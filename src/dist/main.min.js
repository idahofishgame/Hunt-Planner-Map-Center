"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function($){function s(e,t){return-1<e.toUpperCase().indexOf(t.toUpperCase())}function f(e){return $.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e.replace(this.re,this.ch)}),e}$.expr[":"].icontains=function(e,t,i){return s($(e).text(),i[3])},$.expr[":"].aicontains=function(e,t,i){return s($(e).data("normalizedText")||$(e).text(),i[3])};var c=function e(t,i,s){s&&(s.stopPropagation(),s.preventDefault()),this.$element=$(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.setStyle=e.prototype.setStyle,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.destroy=e.prototype.remove,this.remove=e.prototype.remove,this.show=e.prototype.show,this.hide=e.prototype.hide,this.init()};function t(a,n){var r,l=arguments;a=l[0],n=l[1],[].shift.apply(l);var e=this.each(function(){var e=$(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==(void 0===a?"undefined":_typeof(a))&&a;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var o=$.extend({},c.DEFAULTS,$.fn.selectpicker.defaults,e.data(),i);e.data("selectpicker",t=new c(this,o,n))}"string"==typeof a&&(r=t[a]instanceof Function?t[a].apply(t,l):t.options[a])}});return void 0!==r?r:e}c.VERSION="1.6.2",c.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){var i=[];return i[0]=1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},c.prototype={constructor:c,init:function(){var t=this,e=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),$('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var e=this.multiple?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",a=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",n=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";return $('<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="btn dropdown-toggle selectpicker'+s+'" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+o+a+n+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var d=this,p=[],h=0,u=function(e,t,i){return"<li"+(void 0!==i?' class="'+i+'"':"")+(void 0!==t|null===t?' data-original-index="'+t+'"':"")+">"+e+"</li>"},m=function(e,t,i,s){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(void 0!==i?' style="'+i+'"':"")+(void 0!==s?'data-optgroup="'+s+'"':"")+' data-normalized-text="'+f($.trim($("<div/>").html(e).text()).replace(/\s\s+/g," "))+'">'+e+'<span class="'+d.options.iconBase+" "+d.options.tickIcon+' icon-ok check-mark"></span></a>'};return this.$element.find("option").each(function(){var e=$(this),t=e.attr("class")||"",i=e.attr("style"),s=e.data("content")?e.data("content"):e.html(),o=void 0!==e.data("subtext")?'<small class="muted text-muted">'+e.data("subtext")+"</small>":"",a=void 0!==e.data("icon")?'<span class="'+d.options.iconBase+" "+e.data("icon")+'"></span> ':"",n=e.is(":disabled")||e.parent().is(":disabled"),r=e[0].index;if(""!==a&&n&&(a="<span>"+a+"</span>"),e.data("content")||(s=a+'<span class="text">'+s+o+"</span>"),!d.options.hideDisabled||!n)if(e.parent().is("optgroup")&&!0!==e.data("divider")){if(0===e.index()){h+=1;var l=e.parent().attr("label"),c=void 0!==e.parent().data("subtext")?'<small class="muted text-muted">'+e.parent().data("subtext")+"</small>":"";l=(e.parent().data("icon")?'<span class="'+d.options.iconBase+" "+e.parent().data("icon")+'"></span> ':"")+'<span class="text">'+l+c+"</span>",0!==r&&0<p.length&&p.push(u("",null,"divider")),p.push(u(l,null,"dropdown-header"))}p.push(u(m(s,"opt "+t,i,h),r))}else!0===e.data("divider")?p.push(u("",r,"divider")):!0===e.data("hidden")?p.push(u(m(s,t,i),r,"hide is-hidden")):p.push(u(m(s,t,i),r))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),$(p.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var s=this;!1!==e&&this.$element.find("option").each(function(e){s.setDisabled(e,$(this).is(":disabled")||$(this).parent().is(":disabled")),s.setSelected(e,$(this).is(":selected"))}),this.tabIndex();var t=this.options.hideDisabled?":not([disabled])":"",i=this.$element.find("option:selected"+t).map(function(){var e,t=$(this),i=t.data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=s.options.showSubtext&&t.attr("data-subtext")&&!s.multiple?' <small class="muted text-muted">'+t.data("subtext")+"</small>":"",t.data("content")&&s.options.showContent?t.data("content"):void 0!==t.attr("title")?t.attr("title"):i+t.html()+e}).toArray(),o=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var a=this.options.selectedTextFormat.split(">");if(1<a.length&&i.length>a[1]||1==a.length&&2<=i.length){t=this.options.hideDisabled?", [disabled]":"";var n=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length;o=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,n):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",n.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(o=this.options.title),o||(o=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",$.trim($("<div/>").html(o).text()).replace(/\s\s+/g," ")),this.$newElement.find(".filter-option").html(o)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(!1!==this.options.size){var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),i=t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),s=this.options.header?t.find(".popover-title").outerHeight():0,o=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,a=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",i).data("headerHeight",s).data("searchHeight",o).data("actionsHeight",a)}},setSize:function(){this.findLis();var i,s,o,a=this,n=this.$menu,r=n.find(".inner"),e=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),p=this.$newElement.data("actionsHeight"),t=this.$lis.filter(".divider").outerHeight(!0),h=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))+parseInt(n.css("border-top-width"))+parseInt(n.css("border-bottom-width")),u=this.options.hideDisabled?", .disabled":"",m=$(window),v=h+parseInt(n.css("margin-top"))+parseInt(n.css("margin-bottom"))+2,f=function(){s=a.$newElement.offset().top-m.scrollTop(),o=m.height()-s-e};if(f(),this.options.header&&n.css("padding-top",0),"auto"==this.options.size){var g=function(){var e,t=a.$lis.not(".hide");f(),i=o-v,a.options.dropupAuto&&a.$newElement.toggleClass("dropup",o<s&&i-v<n.height()),a.$newElement.hasClass("dropup")&&(i=s-v),e=3<t.length+t.filter(".dropdown-header").length?3*l+v-2:0,n.css({"max-height":i+"px",overflow:"hidden","min-height":e+c+d+p+"px"}),r.css({"max-height":i-c-d-p-h+"px","overflow-y":"auto","min-height":Math.max(e-h,0)+"px"})};g(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",g),$(window).off("resize.getSize").on("resize.getSize",g),$(window).off("scroll.getSize").on("scroll.getSize",g)}else if(this.options.size&&"auto"!=this.options.size&&n.find("li"+u).length>this.options.size){var b=this.$lis.not(".divider"+u).find(" > *").slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,b+1).filter(".divider").length;i=l*this.options.size+w*t+h,a.options.dropupAuto&&this.$newElement.toggleClass("dropup",o<s&&i<n.height()),n.css({"max-height":i+c+d+p+"px",overflow:"hidden"}),r.css({"max-height":i-h+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.find("> .dropdown-menu").css("width"),i=e.css("width","auto").find("> button").css("width");e.remove(),this.$newElement.css("width",Math.max(parseInt(t),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,i,s=this,o=$("<div />"),e=function(e){o.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,o.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){s.isDisabled()||(e($(this)),o.appendTo(s.options.container),o.toggleClass("open",!$(this).hasClass("open")),o.append(s.$menu))}),$(window).resize(function(){e(s.$newElement)}),$(window).on("scroll",function(){e(s.$newElement)}),$("html").on("click",function(e){$(e.target).closest(s.$newElement).length<1&&o.removeClass("open")})},setSelected:function(e,t){this.findLis(),this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis(),t?this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(e){var t=$(this),i=t.parent().data("originalIndex"),s=b.$element.val(),o=b.$element.prop("selectedIndex");if(b.multiple&&e.stopPropagation(),e.preventDefault(),!b.isDisabled()&&!t.parent().hasClass("disabled")){var a=b.$element.find("option"),n=a.eq(i),r=n.prop("selected"),l=n.parent("optgroup"),c=b.options.maxOptions,d=l.data("maxOptions")||!1;if(b.multiple){if(n.prop("selected",!r),b.setSelected(i,!r),t.blur(),!1!==c||!1!==d){var p=c<a.filter(":selected").length,h=d<l.find("option:selected").length;if(c&&p||d&&h)if(c&&1==c)a.prop("selected",!1),n.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(i,!0);else if(d&&1==d){l.find("option:selected").prop("selected",!1),n.prop("selected",!0);var u=t.data("optgroup");b.$menu.find(".selected").has('a[data-optgroup="'+u+'"]').removeClass("selected"),b.setSelected(i,!0)}else{var m="function"==typeof b.options.maxOptionsText?b.options.maxOptionsText(c,d):b.options.maxOptionsText,v=m[0].replace("{n}",c),f=m[1].replace("{n}",d),g=$('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][1<c?0:1]),f=f.replace("{var}",m[2][1<d?0:1])),n.prop("selected",!1),b.$menu.append(g),c&&p&&(g.append($("<div>"+v+"</div>")),b.$element.trigger("maxReached.bs.select")),d&&h&&(g.append($("<div>"+f+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(i,!1)},10),g.delay(750).fadeOut(300,function(){$(this).remove()})}}}else a.prop("selected",!1),n.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(i,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(s!=b.$element.val()&&b.multiple||o!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),e.preventDefault(),e.stopPropagation(),$(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var t=this,e=$('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+f(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(t.options.noneResultsText+' "'+t.$searchbox.val()+'"').show(),t.$menu.find("li").last().after(e))):(t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),$(this).focus()}),this.$menu.on("mouseenter","a",function(e){t.$menu.find(".active").removeClass("active"),$(e.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){t.$menu.find(".active").removeClass("active")})},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(e){var t,i,s,o,a,n,r,l,c,d,p,h,u={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(s=(t=$(this)).parent(),t.is("input")&&(s=t.parent().parent()),(d=s.data("this")).options.liveSearch&&(s=t.parent().parent()),d.options.container&&(s=d.$menu),i=$("[role=menu] li a",s),!(h=d.$menu.parent().hasClass("open"))&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(d.options.container?d.$newElement.trigger("click"):(d.setSize(),d.$menu.parent().addClass("open"),h=!0),d.$searchbox.focus()),d.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&0===d.$menu.find(".active").length&&(e.preventDefault(),d.$menu.parent().removeClass("open"),d.$button.focus()),i=$("[role=menu] li:not(.divider):not(.dropdown-header):visible",s),t.val()||/(38|40)/.test(e.keyCode.toString(10))||0===i.filter(".active").length&&(i=d.options.searchAccentInsensitive?d.$newElement.find("li").filter(":aicontains("+f(u[e.keyCode])+")"):d.$newElement.find("li").filter(":icontains("+u[e.keyCode]+")"))),i.length){if(/(38|40)/.test(e.keyCode.toString(10)))o=i.index(i.filter(":focus")),n=i.parent(":not(.disabled):visible").first().index(),r=i.parent(":not(.disabled):visible").last().index(),a=i.eq(o).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=i.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(),c=i.eq(a).parent().prevAll(":not(.disabled):visible").eq(0).index(),d.options.liveSearch&&(i.each(function(e){$(this).is(":not(.disabled)")&&$(this).data("index",e)}),o=i.index(i.filter(".active")),n=i.filter(":not(.disabled):visible").first().data("index"),r=i.filter(":not(.disabled):visible").last().data("index"),a=i.eq(o).nextAll(":not(.disabled):visible").eq(0).data("index"),l=i.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index"),c=i.eq(a).prevAll(":not(.disabled):visible").eq(0).data("index")),p=t.data("prevIndex"),38==e.keyCode&&(d.options.liveSearch&&(o-=1),o!=c&&l<o&&(o=l),o<n&&(o=n),o==p&&(o=r)),40==e.keyCode&&(d.options.liveSearch&&(o+=1),-1==o&&(o=0),o!=c&&o<a&&(o=a),r<o&&(o=r),o==p&&(o=n)),t.data("prevIndex",o),d.options.liveSearch?(e.preventDefault(),t.is(".dropdown-toggle")||(i.removeClass("active"),i.eq(o).addClass("active").find("a").focus(),t.focus())):i.eq(o).focus();else if(!t.is("input")){var m,v=[];i.each(function(){$(this).parent().is(":not(.disabled)")&&$.trim($(this).text().toLowerCase()).substring(0,1)==u[e.keyCode]&&v.push($(this).parent().index())}),m=$(document).data("keycount"),m++,$(document).data("keycount",m),$.trim($(":focus").text().toLowerCase()).substring(0,1)!=u[e.keyCode]?(m=1,$(document).data("keycount",m)):m>=v.length&&($(document).data("keycount",0),m>v.length&&(m=1)),i.eq(v[m-1]).focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&d.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),d.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(d.$menu.find(".active a").click(),t.focus()):$(":focus").click(),$(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(d.multiple||d.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(d.$menu.parent().removeClass("open"),d.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var e=$.fn.selectpicker;$.fn.selectpicker=t,$.fn.selectpicker.Constructor=c,$.fn.selectpicker.noConflict=function(){return $.fn.selectpicker=e,this},$(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",c.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()}),$(window).on("load.bs.select.data-api",function(){$(".selectpicker").each(function(){var e=$(this);t.call(e,e.data())})})}(jQuery);var map=void 0;require(["esri/config","esri/urlUtils","esri/arcgis/utils","esri/map","esri/dijit/LocateButton","esri/dijit/Scalebar","esri/request","esri/geometry/scaleUtils","esri/renderers/SimpleRenderer","esri/renderers/UniqueValueRenderer","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/TextSymbol","esri/symbols/Font","esri/Color","esri/geometry/Point","esri/geometry/Multipoint","esri/geometry/webMercatorUtils","esri/layers/FeatureLayer","esri/layers/CSVLayer","esri/layers/LabelClass","esri/layers/GraphicsLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/VectorTileLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/layers/DynamicLayerInfo","esri/layers/WMSLayer","esri/dijit/LayerList","esri/dijit/BasemapLayer","esri/dijit/Basemap","esri/dijit/BasemapGallery","esri/InfoTemplate","esri/tasks/QueryTask","esri/tasks/query","esri/dijit/Search","esri/geometry/Extent","esri/tasks/GeometryService","esri/dijit/Measurement","esri/toolbars/draw","esri/graphic","esri/tasks/PrintParameters","esri/tasks/PrintTemplate","esri/tasks/PrintTask","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/json","dojo/on","dojo/parser","dojo/query","dojo/sniff","dojo/_base/connect","dojo/_base/array","dojo/_base/lang","dijit/registry","dojo/domReady!"],function(e,t,i,s,o,a,n,r,l,c,d,p,D,L,h,u,A,m,v,f,g,b,w,C,y,S,x,_,k,I,F,E,T,M,H,R,N,P,G,O,B,U,W,z,j,q,V,Y,K,J,Z,Q,X,ee,te,ie,se,oe){e.defaults.io.corsDetection=!1,esri.config.defaults.io.corsEnabledServers.push("https://gis.idfg.idaho.gov/portal"),Q.parse(),$(window).load(function(){$("#loading").hide(),ki(uploadForm)}),setTimeout(function(){$("#loading").hide()},5e3),map=s("mapDiv",{center:[-114.52,45.5],zoom:6,basemap:"topo",autoResize:!0,showLabels:!0});var ae,ne,re,le,ce,de,pe,he=new p(p.STYLE_CIRCLE,20,new L(L.STYLE_SOLID,new A([215,73,255,.8]),8),new A([199,0,255,.8]));function ue(e){var t=Math.floor(e),i=60*(e-t),s=Math.floor(i),o=60*(i-s),a=Math.round(o);return 60==a&&(s++,a=0),60==s&&(t++,s=0),t+"&deg;"+s+"'"+a+'" '}function me(e){var t=new esri.SpatialReference({wkid:102205}),i=new esri.SpatialReference({wkid:102206}),s=new esri.tasks.GeometryService("//tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer"),o=f.webMercatorToGeographic(e.mapPoint),a=ue(o.y),n=ue(o.x);$("#info1").hasClass("dms")?$("#info1").html(a+"N, "+n+"E"):$("#info1").html("WGS84 DD: "+o.x.toFixed(3)+", "+o.y.toFixed(3)),o.x<=-114&&-120<=o.x?s.project([e.mapPoint],t,function(e){$("#info2").show(),$("#info2").html("NAD83 UTM 11T: "+e[0].x.toFixed()+", "+e[0].y.toFixed())}):-114<o.x&&o.x<=-108?s.project([e.mapPoint],i,function(e){$("#info2").show(),$("#info2").html("NAD83 UTM 12T: 0"+e[0].x.toFixed()+", "+e[0].y.toFixed())}):$("#info2").hide()}new o({map:map,symbol:he,scale:36111.909643},"LocateButton").startup(),new a({map:map,scalebarUnit:"dual"}),map.on("load",function(){map.on("mouse-move",me),map.on("mouse-drag",me),ae=new C,map.addLayer(ae),ne=new C,map.addLayer(ne),re=new C,map.addLayer(re),le=new C,map.addLayer(le),ce=new C,map.addLayer(ce),de=new C,map.addLayer(de),pe=new C,map.addLayer(pe),map.reorderLayer(pe,1)}),$("#info1").on("click",function(){$("#info1").fadeIn(100).fadeOut(100).fadeIn(100).fadeOut(100).fadeIn(100),$("#info1").toggleClass("dms")});var ve=new M({showArcGISBasemaps:!1,map:map},"basemapDiv");ve.startup(),ve.on("error",function(e){console.log("basemap gallery error:  ",e)});var fe=new T({layers:[new E({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"})],title:"Esri World Topographic",thumbnailUrl:"src/images/world_topo.png"});ve.add(fe);var ge=new T({layers:[new E({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"})],title:"Esri Satellite Imagery",thumbnailUrl:"src/images/world_imagery.png"});ve.add(ge);var be=new T({layers:[new E({url:"https://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer"})],title:"Esri USGS Topographic",thumbnailUrl:"src/images/usa_topo.jpg"});ve.add(be);var we=new T({layers:[new E({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer"})],title:"USGS National Map",thumbnailUrl:"src/images/usgstopo.jpg"});ve.add(we);var $e=new T({layers:[new E({url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}),new E({styleUrl:"https://www.arcgis.com/sharing/rest/content/items/86d5ed4b6dc741de9dad5f0fbe09ae95/resources/styles/root.json?f=pjson",type:"VectorTileLayer"})],title:"Esri Hi-Res World Topographic",thumbnailUrl:"src/images/topoHigh.jpg"});ve.add($e);var Ce=new T({layers:[new E({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),new E({styleUrl:"https://www.arcgis.com/sharing/rest/content/items/af6063d6906c4eb589dfe03819610660/resources/styles/root.json?f=pjson",type:"VectorTileLayer"})],title:"Esri Imagery w/Labels",thumbnailUrl:"src/images/imageryLabels.jpg"});ve.add(Ce);var ye=new H;ye.setTitle("${BigGame} Controlled Hunt Area"),ye.setContent("<b>Hunt Area: </b>${HuntArea}<br/><b>Area Note: </b>${AreaNote}<br/>");var Se=new H;Se.setTitle("Big Game Hunting Restriction"),Se.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var xe=new H;xe.setTitle("Upland Game Bird/Turkey Hunting Restriction"),xe.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var _e=new H;_e.setTitle("Upland Game Hunting Restriction"),_e.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var ke=new H;ke.setTitle("Waterfowl Hunting Restriction"),ke.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var De=new H;De.setTitle("Furbearer Hunting Restrictions"),De.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var Le=new H;Le.setTitle("FAA Airport/Airstrip Info"),Le.setContent("<b>Name: </b>${FULLNAME}</br><b>Location: </b>${CITY_NAME}</br><b>Type: </b>${LAN_FA_TY}</br>");var Ae=new H;Ae.setTitle("Campground Info"),Ae.setContent("<b>Name: </b>${NAME}<br/><b>Phone: </b>${Phone}</br><b>Fee/Rate: </b>${Rate}</br><b>Season: </b>${Season}</br><b>Number of Sites: </b>${Sites}</br><b>Max # of Days at Site*: </b>${Max_Length}</br><b>* </b> 0 = No Limit</br><b>Site Administrator: </b>${Type}</br>");var Ie=new H;Ie.setTitle("Road Closure Info"),Ie.setContent("<b>Road/Trail #: </b>${ID}</br><b>Name: </b>${NAME}</br><b>Jurisdiction: </b>${JURISDICTION}</br><b>Office: </b>${OFFICE}</br><b>Office Phone #: </b>${OFFICE_PHONE}</br><b>Sheriff Phone #: </b>${SHERIFF_PHONE}</br><a style='cursor:pointer;' href='${Alerts}' target='_blank'>Alert Info</a>");var Fe=new H;Fe.setTitle("Fire Closure Info"),Fe.setContent("<b>Name: </b>${NAME}<br/><b>Effective Date: </b>${UPDATE_}<br/><a style='cursor:pointer;' href='${URL}' target='_blank'>InciWeb Description</a>");var Ee=new H;Ee.setTitle("{fire_name} Fire"),Ee.setContent("<b>Acres: </b>${gisacres}<br/><b>Active (Y/N): </b>${active}<br/><b><a target='_blank' href=//inciweb.nwcg.gov/incident/${inciwebid}>Click for InciWeb Information</a></b>");var Te=new H;Te.setTitle("Active Fire Report"),Te.setContent("<b>${name} Fire</b><br>${size}<br>${contained}% contained<br><br><a target='_blank' href='https://inciweb.nwcg.gov/${url}'>View Wildfire on Inciweb</a><br><br><em>Last Updated: ${updated}</em>");var Me=new H;Me.setTitle("Closure Info"),Me.setContent("<b>Name: </b>${NAME}<br/><b>Effective Date: </b>${UPDATE_}<br/><a style='cursor:pointer;' href='${URL}' target='_blank'>View on InciWeb</a>");var He=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/GameManagementUnits/FeatureServer/0",{id:"Game_Management_Units"}),Re=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/GMUsWithMotorizedHuntingRules/FeatureServer/0",{id:"GMUs_with_Motorized_Hunting_Rules",visible:!1}),Ne=new g("https://gis.idfg.idaho.gov/server/rest/services/Access/MapServer/1",{id:"Access_Yes!_ Properties",visible:!1});Ne.setDefinitionExpression("IFWIS_Wildlife.dbo.VU_YES_Active.BidID IS NOT NULL");var Pe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ElkManagementZones/FeatureServer/0",{id:"Elk_Management_Zones",visible:!1}),Ge=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Antelope",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});Ge.setDefinitionExpression("Year = 2019 AND BigGame = 'Pronghorn'");var Oe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Bear",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});Oe.setDefinitionExpression("Year = 2019 AND BigGame = 'Bear'");var Be=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Bighorn Sheep",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});Be.setDefinitionExpression("Year = 2019 AND BigGame LIKE '%Sheep'");var Ue=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Deer",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});Ue.setDefinitionExpression("Year = 2019 AND BigGame = 'Deer'");var We=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Elk",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});We.setDefinitionExpression("Year = 2019 AND BigGame = 'Elk'");var ze=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Moose",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});ze.setDefinitionExpression("Year = 2019 AND BigGame = 'Moose'");var je=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Mountain_Goat",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1});je.setDefinitionExpression("Year = 2019 AND BigGame = 'Goat'");var qe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_Turkey/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Turkey",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:ye,visible:!1}),Ve=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/0",{id:"Areas_with_Big_Game_Hunting_Restrictions",outFields:["*"],infoTemplate:Se,visible:!1}),Ye=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/1",{id:"Areas_with_Upland_Game_and_Turkey_Hunting_Restrictions",outFields:["*"],infoTemplate:xe,visible:!1}),Ke=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/2",{id:"Areas_with_Upland_Game_Hunting_Restrictions",outFields:["*"],infoTemplate:_e,visible:!1}),Je=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/3",{id:"Areas_with_Waterfowl_Hunting_Restrictions",outFields:["*"],infoTemplate:ke,visible:!1}),Ze=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/4",{id:"Areas_with_Furbearer_Hunting_Restrictions",outFields:["*"],infoTemplate:De,visible:!1}),Qe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/South_Central_Idaho_Wildlife_Tracts/FeatureServer/0",{id:"Wildlife_Tracts",visible:!1}),Xe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/Wolf_Management_Zones/FeatureServer/0",{id:"Wolf_Management_Zones",visible:!1}),et=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/Administrative_Regions/FeatureServer/0",{id:"Fish_and_Game_Regions",visible:!1}),tt=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/WildlifeManagementAreas/FeatureServer/0",{id:"WMAs",visible:!1}),it=new g("https://gis2.idaho.gov/arcgis/rest/services/IdahoAGOL/Idaho_Counties/MapServer/1",{id:"counties",outFields:["*"],visible:!1}),st=(new h).setColor(new A([0,0,0])),ot=new esri.symbol.Font;ot.setSize("10pt"),ot.setFamily("arial"),ot.setWeight(u.WEIGHT_BOLD),st.setFont(ot),st.setHaloColor(new A([255,255,255])),st.setHaloSize(1);var at=new w({labelExpressionInfo:{value:"{NAME}"},minScale:25e5});at.symbol=st,it.setLabelingInfo([at]);var nt=new g("https://gisservices.cfc.umt.edu/arcgis/rest/services/ProtectedAreas/National_Wilderness_Preservation_System/FeatureServer/0",{id:"wilderness",opacity:.4,outFields:["*"],visible:!1});nt.setDefinitionExpression("STATE IN ('ID','ID/MT','ID/OR')");var rt=(new D).setColor(new A([76,115,0])),lt=new l(rt);nt.setRenderer(lt);var ct=(new h).setColor(new A([47,79,79])),dt=new esri.symbol.Font;dt.setSize("9pt"),dt.setFamily("arial"),dt.setWeight(u.WEIGHT_BOLD),ct.setFont(dt),ct.setHaloColor(new A([238,232,170])),ct.setHaloSize(1);var pt=new w({labelExpressionInfo:{value:"{NAME}"},minScale:25e5});pt.symbol=ct,nt.setLabelingInfo([pt]);var ht=new g("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_RangerDistricts_01/MapServer/1",{id:"rangerDistricts",opacity:.5,outFields:["*"],maxScale:0,minScale:0,visible:!1});ht.setDefinitionExpression("DISTRICTNAME in ('Bonners Ferry Ranger District','Sandpoint Ranger District','St. Joe Ranger District','Coeur d''Alene River Ranger District','North Fork Ranger District','Lochsa/Powell Ranger District','Moose Creek Ranger District','Red River Ranger District','West Fork Ranger District','Hells Canyon National Recreation Area','Council Ranger District','New Meadows Ranger District','McCall Ranger District','Krassell Ranger District','Leadore Ranger District','Salmon-Cobalt Ranger District','Challis-Yankee Fork Ranger District','Cascade Ranger District','Weiser Ranger District','Emmett Ranger District','Lowman Ranger District','Idaho City Ranger District','Mountain Home Ranger District','Sawtooth National Recreation Area','Fairfield Ranger District','Ketchum Ranger District','Lost River Ranger District','Dubois Ranger District','Ashton/Island Park Ranger District','Teton Basin Ranger District','Palisades Ranger District','Soda Springs Ranger District','Montpelier Ranger District','Westside Ranger District','Minidoka Ranger District','Priest Lake Ranger District','Salmon River Ranger District', 'Middle Fork Ranger District')");var ut=new D(D.STYLE_SOLID,new L(L.STYLE_DASH,new A([38,115,0]),1),new A([233,255,190])),mt=new l(ut);ht.setRenderer(mt);var vt=(new h).setColor(new A([38,115,0])),ft=new esri.symbol.Font;ft.setSize("9pt"),ft.setFamily("arial"),ft.setWeight(u.WEIGHT_BOLD),vt.setFont(dt),vt.setHaloColor(new A([233,255,190])),vt.setHaloSize(1);var gt=new w({labelExpressionInfo:{value:"{DISTRICTNAME}"},minScale:25e5});gt.symbol=vt,ht.setLabelingInfo([gt]);var bt=new g("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_ForestSystemBoundaries_01/MapServer/0",{id:"usfsAdmin",opacity:.5,outFields:["*"],visible:!1,maxScale:0,minScale:0});bt.setDefinitionExpression("FORESTNAME in ('Idaho Panhandle National Forests','Kootenai National Forest','Nez Perce-Clearwater National Forest','Bitterroot National Forest','Payette National Forest','Salmon-Challis National Forest','Boise National Forest','Sawtooth National Forest','Caribou-Targhee National Forest','Wallowa-Whitman National Forest')");var wt=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([38,115,0]),2),new A([233,255,190])),$t=new l(wt);bt.setRenderer($t);var Ct=(new h).setColor(new A([38,115,0])),yt=new esri.symbol.Font;yt.setSize("10pt"),yt.setFamily("arial"),yt.setWeight(u.WEIGHT_BOLD),Ct.setFont(yt),Ct.setHaloColor(new A([233,255,190])),Ct.setHaloSize(1);var St=new w({labelExpressionInfo:{value:"{FORESTNAME}"},minScale:25e5});St.symbol=Ct,bt.setLabelingInfo([St]);var xt=new g("https://gis.blm.gov/arcgis/rest/services/admin_boundaries/BLM_Natl_AdminUnit/MapServer/3",{id:"blmFieldOffice",visible:!1});xt.setDefinitionExpression("ADMIN_ST = 'ID'");var _t=new L(L.STYLE_LONGDASHDOT,new A([132,0,168]),2),kt=new l(_t);xt.setRenderer(kt);var Dt=(new h).setColor(new A([132,0,168])),Lt=new esri.symbol.Font;Lt.setSize("9pt"),Lt.setFamily("arial"),Lt.setWeight(u.WEIGHT_BOLD),Dt.setFont(dt),Dt.setHaloColor(new A([255,255,255])),Dt.setHaloSize(1);var At=new w({labelExpressionInfo:{value:"{ADMU_NAME}"},minScale:25e5});At.symbol=Dt,xt.setLabelingInfo([At]);var It=new x("https://cloud.insideidaho.org/arcgis/rest/services/location/location/MapServer",{id:"Quad_Map_Boundaries",visible:!1}),Ft=new y("https://tiles.arcgis.com/tiles/FjJI5xHF2dUPVrgK/arcgis/rest/services/BLM_Surface_Management/MapServer",{id:"State_&_Federal_Land_Management",opacity:.7,visible:!1}),Et=new _("https://utility.arcgis.com/usrsvcs/servers/9a9d92e2b6b749e0be6e47461a50c822/rest/services/USA_NLCD_2011/ImageServer",{id:"Land_Cover",opacity:.4,visible:!1}),Tt=new x("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_MVUM_01/MapServer",{id:"USFS_MVUM_Roads",visible:!1});Tt.setVisibleLayers([0,1,2]);var Mt=[],Ht="FORESTNAME in ('Idaho Panhandle National Forests','Kootenai National Forest','Nez Perce-Clearwater National Forest','Bitterroot National Forest','Payette National Forest','Salmon-Challis National Forest','Boise National Forest','Sawtooth National Forest','Caribou-Targhee National Forest','Wallowa-Whitman National Forest')";Mt[1]=Ht;var Rt=new x("https://gis2.idaho.gov/arcgis/rest/services/DPR/Idaho_Trails_Map/MapServer",{id:"Roads_&_Trails_(zoom_in_to_activate)",visible:!(Mt[2]=Ht)});Rt.setVisibleLayers([4,5,6,7,8,9,10,11,12,13]);var Nt=new g("https://gis2.idaho.gov/arcgis/rest/services/DPR/Idaho_Trails_Map/MapServer/1",{id:"Road_and_Trail_Closures_(zoom_in_to_activate)",outFields:["*"],visible:!1,infoTemplate:Ie}),Pt=new g("https://gis2.idaho.gov/arcgis/rest/services/ADM/Campgrounds/MapServer/0",{id:"Campgrounds",outFields:["*"],visible:!1,infoTemplate:Ae}),Gt=new g("https://maps3.arcgisonline.com/arcgis/rest/services/A-16/RITA-BTS_Public_Airports_in_the_USA/MapServer/2",{id:"FAA_Airstrips",outFields:["*"],infoTemplate:Le,maxScale:0,minScale:0,visible:!1});Gt.setDefinitionExpression("STATE_NAME IN ('IDAHO')");var Ot=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/arcgis/rest/services/Emergency_Wildfire_Closures/FeatureServer/0",{id:"Fire_Emergency_Closure_Areas",outFields:["*"],visible:!1,infoTemplate:Me}),Bt=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/2",{id:"Current_Year_Fire_Perimeters",outFields:["*"],visible:!1}),Ut=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/4",{id:"Inactive_Fire_Perimeters",outFields:["gisacres","active","incidentname","inciwebid"],visible:!1,infoTemplate:Ee}),Wt=new g("https://rmgsc.cr.usgs.gov/ArcGIS/rest/services/geomac_dyn/MapServer/27",{id:"Past_Fire_Perimeters",opacity:"0.7",visible:!1});Wt.setDefinitionExpression("year_ in ('2013','2014','2015','2016', '2017', '2018')");var zt=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/3",{id:"MODIS_Fire_Detection",visible:!1}),jt=new b("https://idfg.idaho.gov/ifwis/maps/realtime/fire/csv/inciweb.csv",{id:"Active_Fire_Report",visible:!1,infoTemplate:Te}),qt=new c(new d("src/images/marker_other.png",21,25),"type");qt.addValue("Wildfire",new d("src/images/marker_fire.png",21,25)),qt.addValue("Burned Area Emergency Response",new d("src/images/marker_baer.png",21,25)),qt.addValue("Prescribed Fire",new d("src/images/marker_rx.png",21,25)),jt.setRenderer(qt),map.addLayers([Et,Ft,nt,Re,Bt,zt,Wt,Ut,Ot,jt,bt,ht,xt,It,it,tt,et,He,Ve,Ye,Ke,Je,Ze,Ge,Oe,Be,Ue,We,je,ze,qe,Xe,Pe,Qe,Ne,Rt,Tt,Nt,Pt,Gt]),new F({map:map,removeUnderscores:!0,showLegend:!0,showOpacitySlider:!0,showSubLayers:!1,layers:[{layer:Ze,title:"Areas with Hunting Restrictions - Furbearer"},{layer:Je,title:"Areas with Hunting Restrictions - Waterfowl"},{layer:Ke,title:"Areas with Hunting Restrictions - Upland Game"},{layer:Ye,title:"Areas with Hunting Restrictions - Upland Game Bird & Turkey"},{layer:Ve,title:"Areas with Hunting Restrictions - Big Game"},{layer:qe,title:"Controlled Hunt Areas - Turkey"},{layer:ze,title:"Controlled Hunt Areas - Moose"},{layer:je,title:"Controlled Hunt Areas - Mountain Goat"},{layer:We,title:"Controlled Hunt Areas - Elk"},{layer:Ue,title:"Controlled Hunt Areas - Deer"},{layer:Be,title:"Controlled Hunt Areas - Bighorn Sheep"},{layer:Oe,title:"Controlled Hunt Areas - Black Bear"},{layer:Ge,title:"Controlled Hunt Areas - Antelope"},{layer:Ne,title:"Access Yes! Properties"},{layer:Pe,title:"Elk Management Zones"},{layer:Re,title:"GMUs with Motorized Hunting Rules"},{layer:He,title:"Game Management Units"}]},"tocDiv1").startup(),new F({map:map,removeUnderscores:!0,showLegend:!0,showSubLayers:!0,showOpacitySlider:!0,layers:[{layer:nt,title:"Wilderness Areas"},{layer:ht,title:"USFS Ranger Districts"},{layer:bt,title:"USFS Administrative Boundaries"},{layer:xt,title:"BLM Field Office Boundaries"},{layer:It,title:"USGS Quad Map Boundaries"},{layer:it,title:"Counties"},{layer:tt,title:"Wildlife Management Areas"},{layer:et,title:"Fish and Game Regions"}]},"tocDiv2").startup();var Vt=new F({map:map,removeUnderscores:!0,showLegend:!0,showOpacitySlider:!0,showSubLayers:!1,layers:[{layer:Ft,title:"State & Federal Land Management"},{layer:Et,title:"Land Cover"},{layer:Tt,title:"USFS Motor Vehicle Use (zoom in to activate)"},{layer:Rt,title:"Roads & Trails (zoom in to activate)"},{layer:Nt,title:"Emergency Road & Trail Closures (zoom in to activate)"},{layer:Pt,title:"Campgrounds"},{layer:Gt,title:"FAA Airports/Airstrips"}]},"tocDiv3");function Yt(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var s=t[i].split("=");if(s[0]==e)return s[1]}}Vt.startup(),Vt.on("load",function(){$("label[for=tocDiv3_checkbox_0]").after("<div class='disclaimer'>IMPORTANT: Please be sure to obtain landowner permission before entering or crossing private lands. State & federal land management data maintained by BLM (2013). <a href='//cloud.insideidaho.org/webApps/metadataViewer/default.aspx?path=%5c%5cintranet.rocket.net%5cinsideprod%5cdata%5canonymous%5cblm%5cRLTY_SMA_PUB_24K_POLY.shp.xml' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_1]").after("<div class='disclaimer'>Land Cover data maintained by the Multi-Resolution Land Characteristics Consortium. <a href='//www.mrlc.gov/index.php' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_2]").after("<div class='disclaimer'>Motor vehicle Use data maintained by USFS. <a href='//www.fs.fed.us/visit/maps/mvum-faq' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_3]").after("<div class='disclaimer'>Public roads & trails data maintained by IDPR. <a href='//www.trails.idaho.gov/trails/' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_4]").after("<div class='disclaimer'>Public road & trail closure data maintained by IDPR. <a href='//www.trails.idaho.gov/trails/' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_5]").after("<div class='disclaimer'>Campground data maintained by IDPR. <a href='//parksandrecreation.idaho.gov/activities/camping' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_6]").after("<div class='disclaimer'>Airport data created by the FAA. <a href='https://www.arcgis.com/home/item.html?id=2814d2774a3d43cda1bcb6671ad6fac0' target='_blank'>Learn More</a></div>"),$("#TOCNode_significantClosures_1").before("<div class='disclaimer'>Please contact USFS national forests and BLM districts for all public road and trail closures.</div>"),$("label[for=tocDiv3_checkbox_4]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_3]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_2]").css("color","#ccc")}),new F({map:map,removeUnderscores:!0,showLegend:!0,showSubLayers:!0,showOpacitySlider:!0,layers:[{layer:Wt,title:"Historic Fire Perimeters"},{layer:Ut,title:"Inactive Fire Perimeters"},{layer:zt,title:"MODIS Fire Detections"},{layer:Bt,title:"Current Year Fire Perimeters"},{layer:Ot,title:"Fire Emergency Closure Areas"},{layer:jt,title:"Active Fire Report"}]},"tocDiv4").startup(),map.on("extent-change",function(){var e=map.getScale();map.getLevel(),e<4622324?($("label[for=tocDiv3_checkbox_3]").css("color","black"),$("label[for=tocDiv3_checkbox_3]").text("Roads & Trails"),$("label[for=tocDiv3_checkbox_4]").css("color","black"),$("label[for=tocDiv3_checkbox_4]").text("Emergency Road & Trail Closures")):($("label[for=tocDiv3_checkbox_3]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_3]").text("Roads & Trails (zoom in to activate)"),$("label[for=tocDiv3_checkbox_4]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_4]").text("Emergency Road & Trail Closures (zoom in to activate)")),e<288895?($("label[for=tocDiv3_checkbox_2]").css("color","black"),$("label[for=tocDiv3_checkbox_2]").text("USFS Motor Vehicle Use")):($("label[for=tocDiv3_checkbox_2").css("color","#ccc"),$("label[for=tocDiv3_checkbox_2").text("USFS Motor Vehicle Use (zoom in to activate)"))}),$("#EmergencyWildfireClosuresLyrCheckbox").prop("checked",!1),$("#fireLayer1Checkbox").prop("checked",!1),$("#InactiveFirePermimetersLyrsCheckbox").prop("checked",!1),$("#HistoricFirePerimeterLyrCheckbox").prop("checked",!1),$("#ModisFireLyrCheckbox").prop("checked",!1),$("#InciWebActiveFireLyrCheckbox").prop("checked",!1),$("#significantClosure0Checkbox").prop("checked",!1),$("#significantClosure1Checkbox").prop("checked",!1),setTimeout(function(){Array.from(document.getElementsByClassName("esriLayer")).forEach(function(e){var t=e.childNodes[0].firstChild.children[0],i=t.nextElementSibling;t.addEventListener("click",function(){t.checked&&(e.className+=" esriListExpand",i.className="esriToggleButton esri-icon-down")})})},2e3),$("#EmergencyWildfireClosuresLyrCheckbox").change(function(){$(this).prop("checked")?Ot.show():Ot.hide()}),$("#fireLayer1Checkbox").change(function(){$(this).prop("checked")?jt.show():jt.hide()}),$("#InactiveFirePermimetersLyrsCheckbox").change(function(){$(this).prop("checked")?Ut.show():Ut.hide()}),$("#HistoricFirePerimeterLyrCheckbox").change(function(){$(this).prop("checked")?Wt.show():Wt.hide()}),$("#ModisFireLyrCheckbox").change(function(){$(this).prop("checked")?zt.show():zt.hide()}),$("#InciWebActiveFireLyrCheckbox").change(function(){$(this).prop("checked")?jt.show():jt.hide()}),$("#significantClosure1Checkbox").change(function(){$(this).prop("checked")?pioneerSalvageClosure.show():pioneerSalvageClosure.hide()}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&$(".selectpicker").selectpicker("mobile");var Kt=void 0,Jt=void 0,Zt=void 0,Qt=void 0,Xt=void 0,ei=void 0;window.onload=function(){if(Kt=Yt("val"),Jt=Yt("lyr"),Zt=Yt("lbl"),Qt=Yt("zoom"),Xt=Yt("X"),ei=Yt("Y"),void 0!==Zt){var e=decodeURIComponent(Zt).split("+").join(" ");Zt=e}else Zt="";var t,i,s,o;if(void 0!==Kt&&(t=Kt,s=new R(vi[i=Jt]),(o=new N).returnGeometry=!0,o.outFields=["*"],ni=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([154,32,219]),3),new A([154,32,219,.1])),o.where=["ID","ID","ID","ID","AreaID","ID","huntID","TaxonID"][i]+" IN ("+t+")",s.execute(o,gi)),$("#queryLabel1").text(Zt),$("#queryLabel1Div").show(),void 0!==Qt){var a=new m(Xt,ei,new esri.SpatialReference({wkid:4326}));map.setLevel(Qt),map.centerAt(a)}},$("#queryCheckbox").change(function(){$(this).prop("checked")?(ae.show(),ne.show()):(ae.hide(),ne.hide())});var ti=void 0,ii=void 0,si=void 0,oi=void 0,ai=void 0,ni=void 0,ri=void 0,li=void 0,ci=void 0,di=void 0,pi=void 0,hi=void 0;$("#btnQuery").click(function(){if($("#loading").show(),ae.clear(),ne.clear(),$("#queryLabel1Div").hide(),$("#queryLabel2Div").hide(),$("#queryLabel3Div").hide(),$("#queryLabel4Div").hide(),$("#queryLabel5Div").hide(),$("#kmlNav1").hide(),$("#kmlNav2").hide(),$("#gmu").val()){var e="";$("#gmu option:selected").each(function(){e+=$(this).val()+","}),ti=e.substring(0,e.length-1),x=void 0!==(x=$("#gmu option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected GMU",void 0!==ti&&(i=ti,s=new R(vi[3]),(o=new N).returnGeometry=!0,o.outFields=["ID","NAME"],ri=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([154,32,219]),3),new A([154,32,219,.1])),o.where="ID IN ("+i+")",s.execute(o,bi)),$("#queryLabel1").text(x),$("#queryLabel1Div").show();var t="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/3/query?where=ID in ("+ti+")&outfields=NAME&f=kmz";$("#gmuKML").attr("href",t),$("#gmuKML").show()}var i,s,o,a,n,r,l,c,d,p,h,u,m,v,f;if($("#elkzone").val()){var g="";$("#elkzone option:selected").each(function(){g+=$(this).val()+","}),ii=g.substring(0,g.length-1),x=void 0!==(x="Elk Zones: "+$("#elkzone option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Elk Zone",void 0!==ii&&(a=ii,n=new R(vi[4]),(r=new N).returnGeometry=!0,r.outFields=["ID","NAME"],li=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([0,255,255]),3),new A([0,255,255,.1])),r.where="ID IN ("+a+")",n.execute(r,wi)),$("#queryLabel2").text(x),$("#queryLabel2Div").show();var b="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/1/query?where=ID in ("+ii+")&outfields=NAME&returnGeometry=true&outSR=4326&f=kmz";$("#elkzoneKML").attr("href",b),$("#elkzoneKML").show()}if($("#chunt").val()){var w="";$("#chunt option:selected").each(function(){w+=$(this).val()+","}),si=w.substring(0,w.length-1),x=void 0!==(x=$("#chunt option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Hunt Area",void 0!==si&&(l=si,c=new R(vi[5]),(d=new N).returnGeometry=!0,d.outFields=["FLAG","AreaID","BigGame","HuntArea"],ci=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([18,237,18]),3),new A([18,237,18,.1])),di=new D(D.STYLE_BACKWARD_DIAGONAL,new L(L.STYLE_SOLID,new A([18,237,18]),3),new A([18,237,18,.3])),d.where="AreaID IN ("+l+")",c.execute(d,$i)),$("#queryLabel3").text(x),$("#queryLabel3Div").show(),$("#kmlNav2").show(),$("#kmlNav1").effect("highlight",{color:"yellow"},3e3),$("#kmlNav2").effect("highlight",{color:"yellow"},3e3);var C="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0/query?where=AreaID in ("+si+")&outfields=NAME&f=kmz";$("#chuntKML").attr("href",C),$("#chuntKML").show()}if($("#waterfowl").val()){var y="";$("#waterfowl option:selected").each(function(){y+=$(this).val()+","}),oi=y.substring(0,y.length-1),x=void 0!==(x=$("#waterfowl option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Hunt Areas",void 0!==oi&&(p=oi,h=new R(vi[6]),(u=new N).returnGeometry=!0,u.outFields=["huntID","Area_Name"],pi=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([255,157,0]),3),new A([255,157,0,.1])),u.where="huntID IN ("+p+")",h.execute(u,Ci)),$("#queryLabel4").text(x),$("#queryLabel4Div").show();var S="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0/query?where=ID in ("+oi+")&outfields=NAME&f=kmz";$("#waterfowlKML").attr("href",S),$("#waterfowlKML").show()}if($("#gameDistribution").val()){var x,_="";$("#gameDistribution option:selected").each(function(){_+=$(this).val()+","}),ai=_.substring(0,_.length-1),x=void 0!==(x=$("#gameDistribution option:selected").map(function(){return $(this).text()}).get().join(", ")+" General Distribution")?x:"Selected Game Distribution",void 0!==ai&&(m=ai,v=new R(vi[7]),(f=new N).returnGeometry=!0,f.outFields=["TaxonID","StateSciName","StateCommonName"],hi=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([255,0,225]),3),new A([255,0,225,.1])),f.where="TaxonID IN ("+m+")",v.execute(f,yi)),$("#queryLabel5").text(x),$("#queryLabel5Div").show();var k="https://gis.idfg.idaho.gov/server/rest/services/Species/Distribution/MapServer/3/query?where=TaxonID in ("+ai+")&outfields=StateCommonName&returnGeometry=true&outSR=4326&f=kmz";$("#gameDistributionKML").attr("href",k),$("#gameDistributionKML").show()}null==$("#gmu").val()&&null==$("#elkzone").val()&&null==$("#chunt").val()&&null==$("#waterfowl").val()&&null==$("#gameDistribution").val()||($("#kmlNav1").show(),$("#kmlNav2").show()),$("#btnClearHighlighted").show()}),$("#btnClearHighlighted").click(function(){$("#btnClearHighlighted").hide(),ae.clear(),ne.clear(),$("#queryLabelDiv").hide(),$(".selectpicker").selectpicker("val",""),$("#queryLabel1Div").hide(),$("#queryLabel2Div").hide(),$("#queryLabel3Div").hide(),$("#queryLabel4Div").hide(),$("#queryLabel5Div").hide(),$("#kmlNav1").hide(),$("#kmlCollapse").hide(),$("#gmuKML").hide(),$("#elkzoneKML").hide(),$("#chuntKML").hide(),$("#waterfowlKML").hide(),$("#gameDistributionKML").hide()});var ui,mi=new D(D.STYLE_BACKWARD_DIAGONAL,new L(L.STYLE_SOLID,new A([154,32,219]),3),new A([154,32,219])),vi=["https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0","https://gis.idfg.idaho.gov/server/rest/services/Outfitters/MapServer/0","https://gis.idfg.idaho.gov/server/rest/services/Access/MapServer/1","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/3","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/1","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/4","https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/WaterfowlHuntAreas/FeatureServer/0","https://gis.idfg.idaho.gov/server/rest/services/Species/Distribution/MapServer/3"];function fi(){$("#huntWarningModal").modal("show")}function gi(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var o=t[i],a=o.geometry.getExtent().getCenter();o.setSymbol(ni);var n=Zt;ae.add(o),1==o.attributes.FLAG?(o.setSymbol(mi),fi()):o.setSymbol(ni);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(n);l.setColor(new esri.Color([0,0,0])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(a,map.spatialReference),d=new W(c,l);ne.add(d);var p=esri.graphicsExtent(t);map.setExtent(p.expand(1.25),!0),""==Qt&&(p=esri.graphicsExtent(t),map.setExtent(p.expand(1.25),!0))}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function bi(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var o=t[i],a=o.geometry.getExtent().getCenter();o.setSymbol(ri);var n="UNIT "+o.attributes.NAME;ae.add(o);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(n);l.setColor(new esri.Color([154,32,219])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(a,map.spatialReference),d=new W(c,l);ne.add(d),Si()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function wi(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var o=t[i],a=o.geometry.getExtent().getCenter();o.setSymbol(li);var n=o.attributes.NAME+" Elk Zone";ae.add(o);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(n);l.setColor(new esri.Color([30,201,201])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(a,map.spatialReference),d=new W(c,l);ne.add(d),Si()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function $i(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var o=t[i],a=o.geometry.getExtent().getCenter();1==o.attributes.FLAG?(o.setSymbol(di),fi()):o.setSymbol(ci);var n=o.attributes.BigGame+" - "+o.attributes.HuntArea;ae.add(o);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(n);l.setColor(new esri.Color([0,0,0])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(a,map.spatialReference);new W(c,l),Si()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Ci(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var o=t[i],a=o.geometry.getExtent().getCenter();o.setSymbol(pi);var n=o.attributes.Area_Name;ae.add(o);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(n);l.setColor(new esri.Color([232,146,18])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(a,map.spatialReference),d=new W(c,l);ne.add(d),Si()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function yi(e){for(var t=e.features,i=0,s=t.length;i<s;i++){var o=t[i];o.setSymbol(hi),ae.add(o),Si()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Si(){var e=new esri.geometry.Extent(-119.925,40.439,-109.137,50.199);map.setExtent(e),$("#loading").hide()}var xi=[];function _i(e){$("#upload-status").html("<p style='color:red'>"+e.message+"</p>")}function ki(e){dojo.byId(e).innerHTML=dojo.byId(e).innerHTML}function Di(e){e.visible?e.hide():e.show()}Z(V.byId("uploadForm"),"change",function(e){var o=e.target.value.toLowerCase();if(ee("ie")){var t=o.split("\\");o=t[t.length-1]}-1!==o.indexOf(".gpx")?(function(e){ui=(ui=o.split("."))[0].replace("c:\\fakepath\\",""),$("#upload-status").html("<b>Loading </b>"+ui);var t={name:ui,targetSR:map.spatialReference,maxRecordCount:1e3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},i=r.getExtentForScale(map,4e4).getWidth()/map.width;t.generalize=!0,t.maxAllowableOffset=i,t.reducePrecision=!0,t.numberOfDigitsAfterDecimal=0;var s={filetype:"gpx",publishParameters:J.stringify(t),f:"json","callback.html":"textarea"};n({url:"https://www.arcgis.com/sharing/rest/content/features/generate",content:s,form:V.byId("uploadForm"),handleAs:"json",load:se.hitch(this,function(e){if(e.error)_i(e.error);else{var t,i,s=e.featureCollection.layers[0].layerDefinition.name;$("#upload-status").html("<b>Loaded: </b>"+s),t=e.featureCollection,xi=[],ie.forEach(t.layers,function(e){var t=new H("","${*}");t.setTitle(ui+" Attributes"),function(e){var t=null;switch(e.geometryType){case"esriGeometryPoint":t=new p(p.STYLE_CIRCLE,10,new L(L.STYLE_SOLID,new A([0,0,0]),1),new A([255,0,0]));break;case"esriGeometryPolygon":t=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([255,0,0]),1),new A([255,0,0]))}t&&e.setRenderer(new l(t)),"esriGeometryPoint"==e.geometryType&&$("#uploadLabel1Div").show(),"esriGeometryPolyline"==e.geometryType&&$("#uploadLabel2Div").show()}(e=new g(e,{outfields:["*"],infoTemplate:t})),i=i?i.union(e.fullExtent):e.fullExtent,xi.push(e)}),map.addLayers(xi),map.setExtent(i.expand(1.25),!0),$("#upload-status").html(""),ki("uploadForm"),$("#uploadLabelDiv").show(),$("#uploadCheckbox").prop("checked",!0)}}),error:se.hitch(this,_i)})}(),$("#btnClearUpload").show()):$("#upload-status").html('<p style="color:red">INVALID FILE TYPE. Choose a .gpx file</p>')}),$("#btnClearUpload").click(function(){$("#btnClearUpload").hide(),jQuery.each(xi,function(e,t){Di(xi[e])}),$("#uploadLabelDiv").hide(),$("#uploadLabel1Div").hide(),$("#uploadLabel2Div").hide(),$("#uploadCheckbox").prop("checked",!1)}),$("#uploadCheckbox").change(function(){jQuery.each(xi,function(e,t){Di(xi[e])})});var Li=new P({map:map,enableInfoWindow:!1},"geosearch");$(".searchInput").on("input",function(){0<$(".searchInput").val().length?$("#btnGeosearch").prop("disabled",!1):$("#btnGeosearch").prop("disabled",!0)});var Ai=new G({spatialReference:{wkid:102100},xmin:-13039873.23,xmax:-12316737.55,ymin:5149759.51,ymax:6295543.43});Li.sources[0].searchExtent=Ai,Li.startup(),$("#btnClearPlace").click(function(){Li.clear(),$("#btnClearPlace").hide()}),Li.on("search-results",function(){$("#btnClearPlace").show()}),$("#btnCoordZoom").click(function(){!function(){var e,t=$("#longitudeInput").val(),i=$("#latitudeInput").val(),s=new d("http://js.arcgis.com/3.19/esri/dijit/Search/images/search-pointer.png",35,35),o=new m(t,i),a=new h(t+", "+i);a.setColor(new A("black"));var n=new u;n.setSize("14pt"),n.setFamily("Helvetica"),n.setWeight(u.WEIGHT_BOLD),a.setFont(n),a.setHorizontalAlignment("left"),a.setVerticalAlignment("middle"),a.setOffset(17,0),e=new W(o,s),zoomToLabel=new W(o,a),le.add(e),ce.add(zoomToLabel),map.centerAndZoom(o,12)}()}),$("#btnClear").click(function(){le.clear(),ce.clear(),longitude=$("#longitudeInput").val(""),latitude=$("#latitudeInput").val("")});var Ii=new p(p.STYLE_CIRCLE,10,new L(L.STYLE_SOLID,new A([165,24,221,.55],1)));Ii.setColor(new A([165,24,221,.55])),Ii.setSize("8");var Fi,Ei,Ti=new L(L.STYLE_SOLID,new A([165,24,221,.55]),3),Mi=new B({map:map,lineSymbol:Ti,pointSymbol:Ii},V.byId("measurementDiv"));function Hi(){var e;$("#userTextBox").prop("disabled",!0),$("#DrawInstructions").show(),e=this.name.toUpperCase().replace(/ /g,"_"),Fi.activate(U[e]),"FREEHAND_POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Press down to start and let go to finish</h3>"):"POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to polygon. Double-click/tap to finish.</h3>"):"POINT"===e?$("#DrawInstructions").html("<h3 class='red'>Click or tap a location on the map to add a point.</h3>"):"MULTI_POINT"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap a location on the map to start adding points. Double-click/tap to finish.</h3>"):"POLYLINE"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to the line. Double-click/tap to finish.</h3>"):"FREEHAND_POLYLINE"===e||"FREEHAND POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Press down to start and let go to finish.</h3>"):"CIRCLE"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to add a circle or press down to start and let go to finish.</h3>"):"TEXT"===e&&$("#DrawInstructions").html("<h3 class='red'>Click/tap map to add text.</h3>")}Mi.startup(),$("#clearMeasureResults").click(function(){Mi.clearResult(),$("#measureResultsDiv").hide(),$("#clearMeasureResults").hide()}),Mi.on("measure-start",function(){$("#Results").empty()}),Mi.on("tool-change",function(){var e=Mi.getTool();"area"===(e=e.toolName)?$("#MeasureInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to polygon. Double-click/tap to finish.</h3>"):"distance"===e?$("#MeasureInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to the line. Double-click/tap to finish.</h3>"):"location"===e&&$("#MeasureInstructions").html("<h3 class='red'>Click or tap a location on the map to add a point.</h3>")}),$("#measureCollapse").on("show.bs.collapse",function(){map.setInfoWindowOnClick(!1)}),Mi.on("measure-end",function(){$("#clearMeasureResults").show();var e=Mi.getTool();e=e.toolName;var t=Mi.resultValue.domNode.innerHTML,i=Mi.markerLatitude;i=i.innerHTML;var s=Mi.markerLongitude,o=i+", "+(s=s.innerHTML);document.getElementById("Results").innerHTML="location"===e?o:t,$("#measureResultsDiv").effect("highlight",{color:"yellow"},3e3)}),$("#measureCollapse").on("hide.bs.collapse",function(){map.setInfoWindowOnClick(!0),Mi.clearResult(),Mi.setTool("area",!1),Mi.setTool("distance",!1),Mi.setTool("location",!1),console.log("Popups should be enabled"),$("#measureResultsDiv").hide(),$("#MeasureInstructions").html("")}),map.on("load",function(e){(Fi=new U(map)).on("draw-end",function(e){!function(e){var t;switch(Fi.deactivate(),e.geometry.type){case"multipoint":t=new p(p.STYLE_CIRCLE,15,new L(L.STYLE_SOLID,new A([255,114,0]),.5),new A([255,114,0]));break;case"polyline":t=new L(L.STYLE_SOLID,new A([255,114,0]),2);break;default:t=new D(D.STYLE_SOLID,new L(L.STYLE_SOLID,new A([255,114,0]),2),new A([255,114,0,.25]))}var i=new W(e.geometry,t);de.add(i)}(e),$("#userTextBox").prop("disabled",!1),$("#DrawInstructions").hide(),$("#btnClearGraphic").show()})}),oe.forEach(function(e){"dijit.form.Button"===e.declaredClass&&e.on("click",Hi)}),$("#userTextBox").on("input",function(){0<$("#userTextBox").val().length?$(".txt-btn").show():$(".txt-btn").hide()}),$("#dijit_form_Button_6_label").on("click",function(e){esri.bundle.toolbars.draw.addPoint="Click to add text to the map.",(Ei=new U(map)).activate(U.POINT),Ei.on("draw-end",function(e){!function(e){Ei.deactivate();var t=$("#userTextBox").val(),i=new h(t);i.setColor(new esri.Color("black"));var s=new esri.symbol.Font;s.setSize("14pt"),s.setFamily("Helvetica"),s.setWeight(u.WEIGHT_BOLD),i.setFont(s);var o=new W(e.geometry,i);pe.add(o)}(e),$("#userTextBox").prop("disabled",!1),$("#DrawInstructions").hide(),$("#btnClearText").show()})}),$("#btnClearGraphic").click(function(){de.clear(),$("#btnClearGraphic").hide()}),$("#btnClearText").click(function(){pe.clear(),$("#btnClearText").hide()}),$("#drawCollapse").on("show.bs.collapse",function(){map.setInfoWindowOnClick(!1)}),$("#drawCollapse").on("hide.bs.collapse",function(){map.setInfoWindowOnClick(!0),$("#DrawInstructions").html("")}),$("#btnPDF").click(function(){$("#div_for_pdf").hide(),$("#printStatus").text("Creating Map..."),function(){var e=new z;e.map=map,$("#printStatus").show(),$("#loadingPrint").show();var t=new j,i=$("#txtTitle").val();t.layoutOptions={titleText:i};var s=$("#format").val();t.format=s;var o=$("#layout").val();t.layout=o,t.exportOptions={dpi:96,width:420,height:650},e.template=t;var a=new esri.tasks.PrintTask("https://gis.idfg.idaho.gov/server/rest/services/Geoprocessing/ExportWebMap2/GPServer/Export%20Web%20Map").execute(e);a.addCallback(function(e){var t=e.url;"undefined"==typeof PDFwindow?($("#div_for_pdf").html("<a href='"+t+"'>GET MAP</a>"),$("#div_for_pdf a").attr("target","_blank"),$("#div_for_pdf").click(function(){$("#div_for_pdf").hide()})):window.open(new_url_for_map,"_blank"),$("#div_for_pdf").show(),$("#btnPDF").show(),$("#loadingPrint").hide(),$("#printStatus").hide()}),a.addErrback(function(e){console.log("Print Task Error = "+e),$("#printStatus").text("Whoops!  Something went wrong!  Please try again later."),$("#printStatus").show(),$("#printStatus").attr("class","red"),$("#loadingPrint").hide(),$("#btnPDF").show(),setTimeout(function(){$("#printStatus").hide()},5e3)}),$("#pdfCollapse").on("hide.bs.collapse",function(){$("#printStatus").hide()})}(),$("#btnPDF").hide()}),$(document).ready(function(){$("#legendNav1").click(function(e){$("#legendCollapse").collapse("toggle")}),$("#legendCollapse").on("show.bs.collapse",function(){$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#basemapNav1").click(function(e){$("#basemapCollapse").collapse("toggle")}),$("#basemapCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#huntNav1").click(function(e){$("#huntCollapse").collapse("toggle")}),$("#huntCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#kmlNav1").click(function(e){$("#kmlCollapse").collapse("toggle")}),$("#kmlCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#uploadNav1").click(function(e){$("#uploadCollapse").collapse("toggle")}),$("#uploadCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#geosearchNav1").click(function(e){$("#geosearchCollapse").collapse("toggle")}),$("#geosearchCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#measurementNav1").click(function(e){$("#measureCollapse").collapse("toggle")}),$("#measureCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#drawNav1").click(function(e){$("#drawCollapse").collapse("toggle")}),$("#drawCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#pdfNav1").click(function(e){$("#pdfCollapse").collapse("toggle")}),$("#pdfCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in")}),$("#helpNav1").click(function(e){$("#helpModal").modal("show")}),$("#disclaimer").click(function(e){$("#disclaimerModal").modal("show")}),$(window).width()<500?(Ni($("#sidebar")),$(".controlBtns").css({width:"100%",position:"fixed"}),$("#ReturnBtn").show()):(Pi($("#sidebar")),$(".controlBtns").css({width:"35%",position:"relative"}),$("#ReturnBtn").hide())});var Ri=$("#sidebar");function Ni(e){$(e).addClass("collapse"),$("#mapView").addClass("fullScreen"),$("#mapView").removeClass("splitScreen"),$("#expandSidebar").removeClass("glyphicon-menu-left"),$("#expandSidebar").addClass("glyphicon-list"),$("#mapView").css({display:"block"})}function Pi(e){$(e).removeClass("collapse"),$("#mapView").removeClass("fullScreen"),$("#mapView").addClass("splitScreen"),$("#expandSidebar").removeClass("glyphicon-list"),$("#expandSidebar").addClass("glyphicon-menu-left"),$(window).width()<500?$("#mapView").css({display:"none"}):$("#mapView").css({display:"block"})}$("#ReturnBtn").on("click",function(){Ni(Ri)}),$("#expandSidebar").on("click",function(){$("#sidebar").hasClass("collapse")?Pi($(Ri)):Ni($(Ri))}),$(window).on("resize",function(){$(this).width()<500?($(".controlBtns").css({width:"100%",position:"fixed"}),$("#ReturnBtn").show(),$("#sidebar").hasClass("collapse")||$("#mapView").css({display:"none"})):($("#ReturnBtn").hide(),$(".controlBtns").css({width:"35%",position:"relative"}),$("#mapView").css({display:"block"}))}),window.onkeydown=function(e){if(112===e.keyCode){var t=window.open("https://idfg.idaho.gov/ifwis/huntplanner/mapcenter/HelpDocV2/IDFG%20Hunt%20Planner%20Map%20Center%20Help%20Documentation.html","_blank");t?t.focus():alert("Please allow popups for this website")}}});