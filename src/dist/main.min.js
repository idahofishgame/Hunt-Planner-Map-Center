"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function($){function s(e,t){return-1<e.toUpperCase().indexOf(t.toUpperCase())}function f(e){return $.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e.replace(this.re,this.ch)}),e}$.expr[":"].icontains=function(e,t,i){return s($(e).text(),i[3])},$.expr[":"].aicontains=function(e,t,i){return s($(e).data("normalizedText")||$(e).text(),i[3])};var c=function e(t,i,s){s&&(s.stopPropagation(),s.preventDefault()),this.$element=$(t),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.setStyle=e.prototype.setStyle,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.destroy=e.prototype.remove,this.remove=e.prototype.remove,this.show=e.prototype.show,this.hide=e.prototype.hide,this.init()};function t(n,o){var r,l=arguments;n=l[0],o=l[1],[].shift.apply(l);var e=this.each(function(){var e=$(this);if(e.is("select")){var t=e.data("selectpicker"),i="object"==(void 0===n?"undefined":_typeof(n))&&n;if(t){if(i)for(var s in i)i.hasOwnProperty(s)&&(t.options[s]=i[s])}else{var a=$.extend({},c.DEFAULTS,$.fn.selectpicker.defaults,e.data(),i);e.data("selectpicker",t=new c(this,a,o))}"string"==typeof n&&(r=t[n]instanceof Function?t[n].apply(t,l):t.options[n])}});return void 0!==r?r:e}c.VERSION="1.6.2",c.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){var i=[];return i[0]=1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},c.prototype={constructor:c,init:function(){var t=this,e=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),$('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var e=this.multiple?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",i=this.autofocus?" autofocus":"",s=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",n=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",o=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";return $('<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="btn dropdown-toggle selectpicker'+s+'" data-toggle="dropdown"'+i+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+a+n+o+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var d=this,p=[],h=0,u=function(e,t,i){return"<li"+(void 0!==i?' class="'+i+'"':"")+(void 0!==t|null===t?' data-original-index="'+t+'"':"")+">"+e+"</li>"},m=function(e,t,i,s){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(void 0!==i?' style="'+i+'"':"")+(void 0!==s?'data-optgroup="'+s+'"':"")+' data-normalized-text="'+f($.trim($("<div/>").html(e).text()).replace(/\s\s+/g," "))+'">'+e+'<span class="'+d.options.iconBase+" "+d.options.tickIcon+' icon-ok check-mark"></span></a>'};return this.$element.find("option").each(function(){var e=$(this),t=e.attr("class")||"",i=e.attr("style"),s=e.data("content")?e.data("content"):e.html(),a=void 0!==e.data("subtext")?'<small class="muted text-muted">'+e.data("subtext")+"</small>":"",n=void 0!==e.data("icon")?'<span class="'+d.options.iconBase+" "+e.data("icon")+'"></span> ':"",o=e.is(":disabled")||e.parent().is(":disabled"),r=e[0].index;if(""!==n&&o&&(n="<span>"+n+"</span>"),e.data("content")||(s=n+'<span class="text">'+s+a+"</span>"),!d.options.hideDisabled||!o)if(e.parent().is("optgroup")&&!0!==e.data("divider")){if(0===e.index()){h+=1;var l=e.parent().attr("label"),c=void 0!==e.parent().data("subtext")?'<small class="muted text-muted">'+e.parent().data("subtext")+"</small>":"";l=(e.parent().data("icon")?'<span class="'+d.options.iconBase+" "+e.parent().data("icon")+'"></span> ':"")+'<span class="text">'+l+c+"</span>",0!==r&&0<p.length&&p.push(u("",null,"divider")),p.push(u(l,null,"dropdown-header"))}p.push(u(m(s,"opt "+t,i,h),r))}else!0===e.data("divider")?p.push(u("",r,"divider")):!0===e.data("hidden")?p.push(u(m(s,t,i),r,"hide is-hidden")):p.push(u(m(s,t,i),r))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),$(p.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var s=this;!1!==e&&this.$element.find("option").each(function(e){s.setDisabled(e,$(this).is(":disabled")||$(this).parent().is(":disabled")),s.setSelected(e,$(this).is(":selected"))}),this.tabIndex();var t=this.options.hideDisabled?":not([disabled])":"",i=this.$element.find("option:selected"+t).map(function(){var e,t=$(this),i=t.data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=s.options.showSubtext&&t.attr("data-subtext")&&!s.multiple?' <small class="muted text-muted">'+t.data("subtext")+"</small>":"",t.data("content")&&s.options.showContent?t.data("content"):void 0!==t.attr("title")?t.attr("title"):i+t.html()+e}).toArray(),a=this.multiple?i.join(this.options.multipleSeparator):i[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var n=this.options.selectedTextFormat.split(">");if(1<n.length&&i.length>n[1]||1==n.length&&2<=i.length){t=this.options.hideDisabled?", [disabled]":"";var o=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length;a=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,o):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",o.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(a=this.options.title),a||(a=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",$.trim($("<div/>").html(a).text()).replace(/\s\s+/g," ")),this.$newElement.find(".filter-option").html(a)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=e||this.options.style;"add"==t?this.$button.addClass(i):"remove"==t?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(!1!==this.options.size){var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),i=t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),s=this.options.header?t.find(".popover-title").outerHeight():0,a=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,n=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",i).data("headerHeight",s).data("searchHeight",a).data("actionsHeight",n)}},setSize:function(){this.findLis();var i,s,a,n=this,o=this.$menu,r=o.find(".inner"),e=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),d=this.$newElement.data("searchHeight"),p=this.$newElement.data("actionsHeight"),t=this.$lis.filter(".divider").outerHeight(!0),h=parseInt(o.css("padding-top"))+parseInt(o.css("padding-bottom"))+parseInt(o.css("border-top-width"))+parseInt(o.css("border-bottom-width")),u=this.options.hideDisabled?", .disabled":"",m=$(window),v=h+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))+2,f=function(){s=n.$newElement.offset().top-m.scrollTop(),a=m.height()-s-e};if(f(),this.options.header&&o.css("padding-top",0),"auto"==this.options.size){var g=function(){var e,t=n.$lis.not(".hide");f(),i=a-v,n.options.dropupAuto&&n.$newElement.toggleClass("dropup",a<s&&i-v<o.height()),n.$newElement.hasClass("dropup")&&(i=s-v),e=3<t.length+t.filter(".dropdown-header").length?3*l+v-2:0,o.css({"max-height":i+"px",overflow:"hidden","min-height":e+c+d+p+"px"}),r.css({"max-height":i-c-d-p-h+"px","overflow-y":"auto","min-height":Math.max(e-h,0)+"px"})};g(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",g),$(window).off("resize.getSize").on("resize.getSize",g),$(window).off("scroll.getSize").on("scroll.getSize",g)}else if(this.options.size&&"auto"!=this.options.size&&o.find("li"+u).length>this.options.size){var b=this.$lis.not(".divider"+u).find(" > *").slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,b+1).filter(".divider").length;i=l*this.options.size+w*t+h,n.options.dropupAuto&&this.$newElement.toggleClass("dropup",a<s&&i<o.height()),o.css({"max-height":i+c+d+p+"px",overflow:"hidden"}),r.css({"max-height":i-h+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body"),t=e.find("> .dropdown-menu").css("width"),i=e.css("width","auto").find("> button").css("width");e.remove(),this.$newElement.css("width",Math.max(parseInt(t),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var t,i,s=this,a=$("<div />"),e=function(e){a.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,a.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){s.isDisabled()||(e($(this)),a.appendTo(s.options.container),a.toggleClass("open",!$(this).hasClass("open")),a.append(s.$menu))}),$(window).resize(function(){e(s.$newElement)}),$(window).on("scroll",function(){e(s.$newElement)}),$("html").on("click",function(e){$(e.target).closest(s.$newElement).length<1&&a.removeClass("open")})},setSelected:function(e,t){this.findLis(),this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis(),t?this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(e){var t=$(this),i=t.parent().data("originalIndex"),s=b.$element.val(),a=b.$element.prop("selectedIndex");if(b.multiple&&e.stopPropagation(),e.preventDefault(),!b.isDisabled()&&!t.parent().hasClass("disabled")){var n=b.$element.find("option"),o=n.eq(i),r=o.prop("selected"),l=o.parent("optgroup"),c=b.options.maxOptions,d=l.data("maxOptions")||!1;if(b.multiple){if(o.prop("selected",!r),b.setSelected(i,!r),t.blur(),!1!==c||!1!==d){var p=c<n.filter(":selected").length,h=d<l.find("option:selected").length;if(c&&p||d&&h)if(c&&1==c)n.prop("selected",!1),o.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(i,!0);else if(d&&1==d){l.find("option:selected").prop("selected",!1),o.prop("selected",!0);var u=t.data("optgroup");b.$menu.find(".selected").has('a[data-optgroup="'+u+'"]').removeClass("selected"),b.setSelected(i,!0)}else{var m="function"==typeof b.options.maxOptionsText?b.options.maxOptionsText(c,d):b.options.maxOptionsText,v=m[0].replace("{n}",c),f=m[1].replace("{n}",d),g=$('<div class="notify"></div>');m[2]&&(v=v.replace("{var}",m[2][1<c?0:1]),f=f.replace("{var}",m[2][1<d?0:1])),o.prop("selected",!1),b.$menu.append(g),c&&p&&(g.append($("<div>"+v+"</div>")),b.$element.trigger("maxReached.bs.select")),d&&h&&(g.append($("<div>"+f+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(i,!1)},10),g.delay(750).fadeOut(300,function(){$(this).remove()})}}}else n.prop("selected",!1),o.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(i,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(s!=b.$element.val()&&b.multiple||a!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),e.preventDefault(),e.stopPropagation(),$(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var t=this,e=$('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.options.searchAccentInsensitive?t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+f(t.$searchbox.val())+")").parent().addClass("hide"):t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide"),t.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(t.options.noneResultsText+' "'+t.$searchbox.val()+'"').show(),t.$menu.find("li").last().after(e))):(t.$lis.not(".is-hidden").removeClass("hide"),e.parent().length&&e.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),$(this).focus()}),this.$menu.on("mouseenter","a",function(e){t.$menu.find(".active").removeClass("active"),$(e.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){t.$menu.find(".active").removeClass("active")})},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(e){var t,i,s,a,n,o,r,l,c,d,p,h,u={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(s=(t=$(this)).parent(),t.is("input")&&(s=t.parent().parent()),(d=s.data("this")).options.liveSearch&&(s=t.parent().parent()),d.options.container&&(s=d.$menu),i=$("[role=menu] li a",s),!(h=d.$menu.parent().hasClass("open"))&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(d.options.container?d.$newElement.trigger("click"):(d.setSize(),d.$menu.parent().addClass("open"),h=!0),d.$searchbox.focus()),d.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&0===d.$menu.find(".active").length&&(e.preventDefault(),d.$menu.parent().removeClass("open"),d.$button.focus()),i=$("[role=menu] li:not(.divider):not(.dropdown-header):visible",s),t.val()||/(38|40)/.test(e.keyCode.toString(10))||0===i.filter(".active").length&&(i=d.options.searchAccentInsensitive?d.$newElement.find("li").filter(":aicontains("+f(u[e.keyCode])+")"):d.$newElement.find("li").filter(":icontains("+u[e.keyCode]+")"))),i.length){if(/(38|40)/.test(e.keyCode.toString(10)))a=i.index(i.filter(":focus")),o=i.parent(":not(.disabled):visible").first().index(),r=i.parent(":not(.disabled):visible").last().index(),n=i.eq(a).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=i.eq(a).parent().prevAll(":not(.disabled):visible").eq(0).index(),c=i.eq(n).parent().prevAll(":not(.disabled):visible").eq(0).index(),d.options.liveSearch&&(i.each(function(e){$(this).is(":not(.disabled)")&&$(this).data("index",e)}),a=i.index(i.filter(".active")),o=i.filter(":not(.disabled):visible").first().data("index"),r=i.filter(":not(.disabled):visible").last().data("index"),n=i.eq(a).nextAll(":not(.disabled):visible").eq(0).data("index"),l=i.eq(a).prevAll(":not(.disabled):visible").eq(0).data("index"),c=i.eq(n).prevAll(":not(.disabled):visible").eq(0).data("index")),p=t.data("prevIndex"),38==e.keyCode&&(d.options.liveSearch&&(a-=1),a!=c&&l<a&&(a=l),a<o&&(a=o),a==p&&(a=r)),40==e.keyCode&&(d.options.liveSearch&&(a+=1),-1==a&&(a=0),a!=c&&a<n&&(a=n),r<a&&(a=r),a==p&&(a=o)),t.data("prevIndex",a),d.options.liveSearch?(e.preventDefault(),t.is(".dropdown-toggle")||(i.removeClass("active"),i.eq(a).addClass("active").find("a").focus(),t.focus())):i.eq(a).focus();else if(!t.is("input")){var m,v=[];i.each(function(){$(this).parent().is(":not(.disabled)")&&$.trim($(this).text().toLowerCase()).substring(0,1)==u[e.keyCode]&&v.push($(this).parent().index())}),m=$(document).data("keycount"),m++,$(document).data("keycount",m),$.trim($(":focus").text().toLowerCase()).substring(0,1)!=u[e.keyCode]?(m=1,$(document).data("keycount",m)):m>=v.length&&($(document).data("keycount",0),m>v.length&&(m=1)),i.eq(v[m-1]).focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&d.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),d.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(d.$menu.find(".active a").click(),t.focus()):$(":focus").click(),$(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(d.multiple||d.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(d.$menu.parent().removeClass("open"),d.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var e=$.fn.selectpicker;$.fn.selectpicker=t,$.fn.selectpicker.Constructor=c,$.fn.selectpicker.noConflict=function(){return $.fn.selectpicker=e,this},$(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",c.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()}),$(window).on("load.bs.select.data-api",function(){$(".selectpicker").each(function(){var e=$(this);t.call(e,e.data())})})}(jQuery);var map=void 0;require(["esri/config","esri/urlUtils","esri/arcgis/utils","esri/map","esri/dijit/LocateButton","esri/dijit/Scalebar","esri/request","esri/geometry/scaleUtils","esri/renderers/SimpleRenderer","esri/renderers/UniqueValueRenderer","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/TextSymbol","esri/symbols/Font","esri/Color","esri/geometry/Point","esri/geometry/Multipoint","esri/geometry/webMercatorUtils","esri/layers/FeatureLayer","esri/layers/CSVLayer","esri/layers/LabelClass","esri/layers/GraphicsLayer","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/VectorTileLayer","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/ArcGISImageServiceLayer","esri/layers/DynamicLayerInfo","esri/layers/WMSLayer","esri/dijit/LayerList","esri/dijit/BasemapLayer","esri/dijit/Basemap","esri/dijit/BasemapGallery","esri/InfoTemplate","esri/tasks/QueryTask","esri/tasks/query","esri/dijit/Search","esri/geometry/Extent","esri/tasks/GeometryService","esri/dijit/Measurement","esri/toolbars/draw","esri/graphic","esri/tasks/PrintParameters","esri/tasks/PrintTemplate","esri/tasks/PrintTask","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/json","dojo/on","dojo/parser","dojo/query","dojo/sniff","dojo/_base/connect","dojo/_base/array","dojo/_base/lang","dijit/registry","dojo/domReady!"],function(e,t,i,s,a,n,o,r,l,c,d,p,k,A,h,u,I,m,v,f,g,b,w,C,y,S,x,_,D,L,F,T,E,M,H,R,N,P,G,O,U,B,W,z,j,q,V,Y,K,J,Z,Q,X,ee,te,ie,se,ae){e.defaults.io.corsDetection=!1,esri.config.defaults.io.corsEnabledServers.push("https://gis.idfg.idaho.gov/portal"),Q.parse(),$(window).load(function(){$("#loading").hide(),Hi(uploadForm)}),setTimeout(function(){$("#loading").hide()},5e3),map=new s("mapDiv",{center:[-114.52,45.5],zoom:6,basemap:"topo",autoResize:!0,showLabels:!0});var ne,oe,re,le,ce,de,pe,he=new p(p.STYLE_CIRCLE,20,new A(A.STYLE_SOLID,new I([215,73,255,.8]),8),new I([199,0,255,.8]));function ue(e){var t=Math.floor(e),i=60*(e-t),s=Math.floor(i),a=60*(i-s),n=Math.round(a);return 60===n&&(s++,n=0),60===s&&(t++,s=0),t+"&deg;"+s+"'"+n+'" '}function me(e){var t=new esri.SpatialReference({wkid:102205}),i=new esri.SpatialReference({wkid:102206}),s=new esri.tasks.GeometryService("//tasks.arcgisonline.com/ArcGIS/rest/services/Geometry/GeometryServer"),a=f.webMercatorToGeographic(e.mapPoint),n=ue(a.y),o=ue(a.x);$("#info1").hasClass("dms")?$("#info1").html(n+"N, "+o+"E"):$("#info1").html("WGS84 DD: "+a.x.toFixed(3)+", "+a.y.toFixed(3)),a.x<=-114&&-120<=a.x?s.project([e.mapPoint],t,function(e){$("#info2").show(),$("#info2").html("NAD83 UTM 11T: "+e[0].x.toFixed()+", "+e[0].y.toFixed())}):-114<a.x&&a.x<=-108?s.project([e.mapPoint],i,function(e){$("#info2").show(),$("#info2").html("NAD83 UTM 12T: 0"+e[0].x.toFixed()+", "+e[0].y.toFixed())}):$("#info2").hide()}new a({map:map,symbol:he,scale:36111.909643},"LocateButton").startup(),new n({map:map,scalebarUnit:"dual"}),map.on("load",function(){map.on("mouse-move",me),map.on("mouse-drag",me),ne=new C,map.addLayer(ne),oe=new C,map.addLayer(oe),re=new C,map.addLayer(re),le=new C,map.addLayer(le),ce=new C,map.addLayer(ce),de=new C,map.addLayer(de),pe=new C,map.addLayer(pe),map.reorderLayer(pe,1)}),$("#info1").on("click",function(){$("#info1").fadeIn(100).fadeOut(100).fadeIn(100).fadeOut(100).fadeIn(100),$("#info1").toggleClass("dms")});var ve=new M({showArcGISBasemaps:!1,map:map},"basemapDiv");ve.startup(),ve.on("error",function(e){console.log("basemap gallery error:  ",e)});var fe=new E({layers:[new T({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"})],title:"Esri World Topographic",thumbnailUrl:"src/images/world_topo.png"});ve.add(fe);var ge=new T({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),be=new E({layers:[ge],title:"Esri Satellite Imagery",thumbnailUrl:"src/images/world_imagery.png"});ve.add(be);var we=new E({layers:[new T({url:"https://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer"})],title:"Esri USGS Topographic",thumbnailUrl:"src/images/usa_topo.jpg"});ve.add(we);var $e=new E({layers:[new T({url:"https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer"})],title:"USGS National Map",thumbnailUrl:"src/images/usgstopo.jpg"});ve.add($e);var Ce=new E({layers:[new T({url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}),new T({styleUrl:"https://www.arcgis.com/sharing/rest/content/items/86d5ed4b6dc741de9dad5f0fbe09ae95/resources/styles/root.json?f=pjson",type:"VectorTileLayer"})],title:"Esri Hi-Res World Topographic",thumbnailUrl:"src/images/topoHigh.jpg"});ve.add(Ce);var ye=new E({layers:[ge,new T({styleUrl:"https://www.arcgis.com/sharing/rest/content/items/af6063d6906c4eb589dfe03819610660/resources/styles/root.json?f=pjson",type:"VectorTileLayer"})],title:"Esri Imagery w/Labels",thumbnailUrl:"src/images/imageryLabels.jpg"});ve.add(ye);var Se=new H;Se.setTitle("${BigGame} Controlled Hunt Area"),Se.setContent("<b>Hunt Area: </b>${HuntArea}<br/><b>Area Note: </b>${AreaNote}<br/>");var xe=new H;xe.setTitle("Big Game Hunting Restriction"),xe.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var _e=new H;_e.setTitle("Upland Game Bird/Turkey Hunting Restriction"),_e.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var De=new H;De.setTitle("Upland Game Hunting Restriction"),De.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var ke=new H;ke.setTitle("Waterfowl Hunting Restriction"),ke.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var Ae=new H;Ae.setTitle("Furbearer Hunting Restrictions"),Ae.setContent("<b>Area: </b>${Closed_Are}<br/><b>Restriction: </b>${Comments}</br>");var Ie=new H;Ie.setTitle("FAA Airport/Airstrip Info"),Ie.setContent("<b>Name: </b>${FULLNAME}</br><b>Location: </b>${CITY_NAME}</br><b>Type: </b>${LAN_FA_TY}</br>");var Le=new H;Le.setTitle("Campground Info"),Le.setContent("<b>Name: </b>${NAME}<br/><b>Phone: </b>${Phone}</br><b>Fee/Rate: </b>${Rate}</br><b>Season: </b>${Season}</br><b>Number of Sites: </b>${Sites}</br><b>Max # of Days at Site*: </b>${Max_Length}</br><b>* </b> 0 = No Limit</br><b>Site Administrator: </b>${Type}</br>");var Fe=new H;Fe.setTitle("Road Closure Info"),Fe.setContent("<b>Road/Trail #: </b>${ID}</br><b>Name: </b>${NAME}</br><b>Jurisdiction: </b>${JURISDICTION}</br><b>Office: </b>${OFFICE}</br><b>Office Phone #: </b>${OFFICE_PHONE}</br><b>Sheriff Phone #: </b>${SHERIFF_PHONE}</br><a style='cursor:pointer;' href='${Alerts}' target='_blank'>Alert Info</a>");var Te=new H;Te.setTitle("Fire Closure Info"),Te.setContent("<b>Name: </b>${NAME}<br/><b>Effective Date: </b>${UPDATE_}<br/><a style='cursor:pointer;' href='${URL}' target='_blank'>InciWeb Description</a>");var Ee=new H;Ee.setTitle("{fire_name} Fire"),Ee.setContent("<b>Acres: </b>${gisacres}<br/><b>Active (Y/N): </b>${active}<br/><b><a target='_blank' href=//inciweb.nwcg.gov/incident/${inciwebid}>Click for InciWeb Information</a></b>");var Me=new H;Me.setTitle("Active Fire Report"),Me.setContent("<b>${name} Fire</b><br>${size}<br>${contained}% contained<br><br><a target='_blank' href='https://inciweb.nwcg.gov/${url}'>View Wildfire on Inciweb</a><br><br><em>Last Updated: ${updated}</em>");var He=new H;He.setTitle("Closure Info"),He.setContent("<b>Name: </b>${NAME}<br/><b>Effective Date: </b>${UPDATE_}<br/><a style='cursor:pointer;' href='${URL}' target='_blank'>View on InciWeb</a>");var Re=new H;Re.setTitle("${Access} Access"),Re.setContent(function(e){var t="<b>Official name</b>: "+e.attributes.Partnership+" <br/>";switch(t+="<b>Partner</b>: "+e.attributes.AgreementWith+" <br/>",e.attributes.AgreementWith){case"PotlachDeltic":t=NaN;break;default:"Restricted"!==e.attributes.Access?t+="Access to hunt, fish, view wildlife is allowed under IDFG agreement.<br/>":t+="Access is not allowed under the IDFG agreement.<br/>"}return t+"<a href='"+e.attributes.IDFGMoreInfo+"'><br/>More information</a><br/><br/><b>Last Updated:</b> "+function(e){var t=e.getFullYear(),i=(1+e.getMonth()).toString();i=1<i.length?i:"0"+i;var s=e.getDate().toString();return i+"/"+(s=1<s.length?s:"0"+s)+"/"+t}(new Date(e.attributes.last_edited_date))});var Ne,Pe=(Ne={},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,i){Ne[t]=i}),Ne);Pe.hunt||Pe.admin||Pe.reference||Pe.wildlife||(Pe.hunt=1);var Ge=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/GameManagementUnits/FeatureServer/0",{id:"Game_Management_Units",visible:0!=(1&Pe.hunt)}),Oe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/GMUsWithMotorizedHuntingRules/FeatureServer/0",{id:"GMUs_with_Motorized_Hunting_Rules",visible:0!=(2&Pe.hunt)}),Ue=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ElkManagementZones/FeatureServer/0",{id:"Elk_Management_Zones",visible:0!=(4&Pe.hunt)}),Be=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Antelope",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(8&Pe.hunt)});Be.setDefinitionExpression("Year = 2019 AND BigGame = 'Pronghorn'");var We=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Bear",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(16&Pe.hunt)});We.setDefinitionExpression("Year = 2019 AND BigGame = 'Bear'");var ze=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Bighorn Sheep",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(32&Pe.hunt)});ze.setDefinitionExpression("Year = 2019 AND BigGame LIKE '%Sheep'");var je=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Deer",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(64&Pe.hunt)});je.setDefinitionExpression("Year = 2019 AND BigGame = 'Deer'");var qe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Elk",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(128&Pe.hunt)});qe.setDefinitionExpression("Year = 2019 AND BigGame = 'Elk'");var Ve=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Mountain_Goat",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(256&Pe.hunt)});Ve.setDefinitionExpression("Year = 2019 AND BigGame = 'Goat'");var Ye=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_All/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Moose",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(512&Pe.hunt)});Ye.setDefinitionExpression("Year = 2019 AND BigGame = 'Moose'");var Ke=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/ControlledHunts_Turkey/FeatureServer/0",{id:"Controlled_Hunt_Areas_-_Turkey",outFields:["BigGame","HuntArea","AreaNote"],infoTemplate:Se,visible:0!=(1024&Pe.hunt)}),Je=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/0",{id:"Areas_with_Big_Game_Hunting_Restrictions",outFields:["*"],infoTemplate:xe,visible:0!=(2048&Pe.hunt)}),Ze=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/1",{id:"Areas_with_Upland_Game_and_Turkey_Hunting_Restrictions",outFields:["*"],infoTemplate:_e,visible:0!=(4096&Pe.hunt)}),Qe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/2",{id:"Areas_with_Upland_Game_Hunting_Restrictions",outFields:["*"],infoTemplate:De,visible:0!=(8192&Pe.hunt)}),Xe=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/3",{id:"Areas_with_Waterfowl_Hunting_Restrictions",outFields:["*"],infoTemplate:ke,visible:0!=(16384&Pe.hunt)}),et=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/AreasWithHuntingRestrictions/FeatureServer/4",{id:"Areas_with_Furbearer_Hunting_Restrictions",outFields:["*"],infoTemplate:Ae,visible:0!=(32768&Pe.hunt)}),tt=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/South_Central_Idaho_Wildlife_Tracts/FeatureServer/0",{id:"Wildlife_Tracts",visible:!1}),it=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/Wolf_Management_Zones/FeatureServer/0",{id:"Wolf_Management_Zones",visible:!1}),st=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/Administrative_Regions/FeatureServer/0",{id:"Fish_and_Game_Regions",visible:0!=(1&Pe.admin)}),at=new g("https://gis2.idaho.gov/arcgis/rest/services/IdahoAGOL/Idaho_Counties/MapServer/1",{id:"counties",outFields:["*"],visible:0!=(2&Pe.admin)}),nt=(new h).setColor(new I([0,0,0])),ot=new esri.symbol.Font;ot.setSize("10pt"),ot.setFamily("arial"),ot.setWeight(u.WEIGHT_BOLD),nt.setFont(ot),nt.setHaloColor(new I([255,255,255])),nt.setHaloSize(1);var rt=new w({labelExpressionInfo:{value:"{NAME}"},minScale:25e5});rt.symbol=nt,at.setLabelingInfo([rt]);var lt=new g("https://gisservices.cfc.umt.edu/arcgis/rest/services/ProtectedAreas/National_Wilderness_Preservation_System/FeatureServer/0",{id:"wilderness",opacity:.4,outFields:["*"],visible:0!=(64&Pe.admin)});lt.setDefinitionExpression("STATE IN ('ID','ID/MT','ID/OR')");var ct=(new k).setColor(new I([76,115,0])),dt=new l(ct);lt.setRenderer(dt);var pt=(new h).setColor(new I([47,79,79])),ht=new esri.symbol.Font;ht.setSize("9pt"),ht.setFamily("arial"),ht.setWeight(u.WEIGHT_BOLD),pt.setFont(ht),pt.setHaloColor(new I([238,232,170])),pt.setHaloSize(1);var ut=new w({labelExpressionInfo:{value:"{NAME}"},minScale:25e5});ut.symbol=pt,lt.setLabelingInfo([ut]);var mt=new g("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_RangerDistricts_01/MapServer/1",{id:"rangerDistricts",opacity:.5,outFields:["*"],maxScale:0,minScale:0,visible:!1});mt.setDefinitionExpression("DISTRICTNAME in ('Bonners Ferry Ranger District','Sandpoint Ranger District','St. Joe Ranger District','Coeur d''Alene River Ranger District','North Fork Ranger District','Lochsa/Powell Ranger District','Moose Creek Ranger District','Red River Ranger District','West Fork Ranger District','Hells Canyon National Recreation Area','Council Ranger District','New Meadows Ranger District','McCall Ranger District','Krassell Ranger District','Leadore Ranger District','Salmon-Cobalt Ranger District','Challis-Yankee Fork Ranger District','Cascade Ranger District','Weiser Ranger District','Emmett Ranger District','Lowman Ranger District','Idaho City Ranger District','Mountain Home Ranger District','Sawtooth National Recreation Area','Fairfield Ranger District','Ketchum Ranger District','Lost River Ranger District','Dubois Ranger District','Ashton/Island Park Ranger District','Teton Basin Ranger District','Palisades Ranger District','Soda Springs Ranger District','Montpelier Ranger District','Westside Ranger District','Minidoka Ranger District','Priest Lake Ranger District','Salmon River Ranger District', 'Middle Fork Ranger District')");var vt=new k(k.STYLE_SOLID,new A(A.STYLE_DASH,new I([38,115,0]),1),new I([233,255,190])),ft=new l(vt);mt.setRenderer(ft);var gt=(new h).setColor(new I([38,115,0])),bt=new esri.symbol.Font;bt.setSize("9pt"),bt.setFamily("arial"),bt.setWeight(u.WEIGHT_BOLD),gt.setFont(ht),gt.setHaloColor(new I([233,255,190])),gt.setHaloSize(1);var wt=new w({labelExpressionInfo:{value:"{DISTRICTNAME}"},minScale:25e5});wt.symbol=gt,mt.setLabelingInfo([wt]);var $t=new g("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_ForestSystemBoundaries_01/MapServer/0",{id:"usfsAdmin",opacity:.5,outFields:["*"],visible:0!=(16&Pe.admin),maxScale:0,minScale:0});$t.setDefinitionExpression("FORESTNAME in ('Idaho Panhandle National Forests','Kootenai National Forest','Nez Perce-Clearwater National Forest','Bitterroot National Forest','Payette National Forest','Salmon-Challis National Forest','Boise National Forest','Sawtooth National Forest','Caribou-Targhee National Forest','Wallowa-Whitman National Forest')");var Ct=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([38,115,0]),2),new I([233,255,190])),yt=new l(Ct);$t.setRenderer(yt);var St=(new h).setColor(new I([38,115,0])),xt=new esri.symbol.Font;xt.setSize("10pt"),xt.setFamily("arial"),xt.setWeight(u.WEIGHT_BOLD),St.setFont(xt),St.setHaloColor(new I([233,255,190])),St.setHaloSize(1);var _t=new w({labelExpressionInfo:{value:"{FORESTNAME}"},minScale:25e5});_t.symbol=St,$t.setLabelingInfo([_t]);var Dt=new g("https://gis.blm.gov/arcgis/rest/services/admin_boundaries/BLM_Natl_AdminUnit/MapServer/3",{id:"blmFieldOffice",visible:0!=(8&Pe.admin)});Dt.setDefinitionExpression("ADMIN_ST = 'ID'");var kt=new A(A.STYLE_LONGDASHDOT,new I([132,0,168]),2),At=new l(kt);Dt.setRenderer(At);var It=(new h).setColor(new I([132,0,168])),Lt=new esri.symbol.Font;Lt.setSize("9pt"),Lt.setFamily("arial"),Lt.setWeight(u.WEIGHT_BOLD),It.setFont(ht),It.setHaloColor(new I([255,255,255])),It.setHaloSize(1);var Ft=new w({labelExpressionInfo:{value:"{ADMU_NAME}"},minScale:25e5});Ft.symbol=It,Dt.setLabelingInfo([Ft]);var Tt=new x("https://cloud.insideidaho.org/arcgis/rest/services/location/location/MapServer",{id:"Quad_Map_Boundaries",visible:0!=(4&Pe.admin)}),Et=new y("https://tiles.arcgis.com/tiles/FjJI5xHF2dUPVrgK/arcgis/rest/services/BLM_Surface_Management_Tile/MapServer?cacheKey=aa0b86810d2d71f9",{id:"State_&_Federal_Land_Management",opacity:.7,visible:0!=(512&Pe.reference)}),Mt=new g("https://gis.idfg.idaho.gov/server/rest/services/Access/MapServer/1",{id:"Access_Yes!_ Properties",visible:0!=(256&Pe.reference)});Mt.setDefinitionExpression("IFWIS_Wildlife.dbo.VU_YES_Active.BidID IS NOT NULL");var Ht=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/WildlifeManagementAreas/FeatureServer/0",{id:"WMAs",visible:0!=(32&Pe.reference)}),Rt=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/Access_Agreements_with_Idaho_Fish_and_Game/FeatureServer/0",{id:"Large_Tracts_Access",outFields:["AgreementWith","Partnership","Accesss","last_edited_date","IDFGMoreInfo"],visible:0!=(64&Pe.reference),opacity:.4,infoTemplate:Re}),Nt=new g("https://gis1.idl.idaho.gov/arcgis/rest/services/State_Lands_with_Identified_Public_Access/FeatureServer/0",{id:"Endowment_Lands_Access",visible:0!=(128&Pe.reference)}),Pt=new _("https://utility.arcgis.com/usrsvcs/servers/9a9d92e2b6b749e0be6e47461a50c822/rest/services/USA_NLCD_2011/ImageServer",{id:"Land_Cover",opacity:.7,visible:!1}),Gt=new x("https://apps.fs.usda.gov/arcx/rest/services/EDW/EDW_MVUM_01/MapServer",{id:"USFS_MVUM_Roads",visible:0!=(16&Pe.reference)});Gt.setVisibleLayers([0,1,2]);var Ot=[],Ut="FORESTNAME in ('Idaho Panhandle National Forests','Kootenai National Forest','Nez Perce-Clearwater National Forest','Bitterroot National Forest','Payette National Forest','Salmon-Challis National Forest','Boise National Forest','Sawtooth National Forest','Caribou-Targhee National Forest','Wallowa-Whitman National Forest')";Ot[1]=Ut,Ot[2]=Ut;var Bt=new x("https://gis2.idaho.gov/arcgis/rest/services/DPR/Idaho_Trails_Map/MapServer",{id:"Roads_&_Trails_(zoom_in_to_activate)",visible:0!=(9&Pe.reference)});Bt.setVisibleLayers([4,5,6,7,8,9,10,11,12,13]);var Wt=new g("https://gis2.idaho.gov/arcgis/rest/services/DPR/Idaho_Trails_Map/MapServer/1",{id:"Road_and_Trail_Closures_(zoom_in_to_activate)",outFields:["*"],visible:0!=(4&Pe.reference),infoTemplate:Fe}),zt=new g("https://gis2.idaho.gov/arcgis/rest/services/ADM/Campgrounds/MapServer/0",{id:"Campgrounds",outFields:["*"],visible:0!=(2&Pe.reference),infoTemplate:Le}),jt=new g("https://maps3.arcgisonline.com/arcgis/rest/services/A-16/RITA-BTS_Public_Airports_in_the_USA/MapServer/2",{id:"FAA_Airstrips",outFields:["*"],infoTemplate:Ie,maxScale:0,minScale:0,visible:0!=(1&Pe.reference)});jt.setDefinitionExpression("STATE_NAME IN ('IDAHO')");var qt=new g("https://services.arcgis.com/FjJI5xHF2dUPVrgK/arcgis/rest/services/Emergency_Wildfire_Closures/FeatureServer/0",{id:"Fire_Emergency_Closure_Areas",outFields:["*"],visible:0!=(1&Pe.wildlife),infoTemplate:He}),Vt=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/2",{id:"Current_Year_Fire_Perimeters",outFields:["*"],visible:0!=(2&Pe.wildlife)}),Yt=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/4",{id:"Inactive_Fire_Perimeters",outFields:["gisacres","active","incidentname","inciwebid"],visible:0!=(8&Pe.wildlife),infoTemplate:Ee}),Kt=new g("https://rmgsc.cr.usgs.gov/ArcGIS/rest/services/geomac_dyn/MapServer/27",{id:"Past_Fire_Perimeters",opacity:"0.7",visible:0!=(16&Pe.wildlife)});Kt.setDefinitionExpression("year_ in ('2013','2014','2015','2016', '2017', '2018')");var Jt=new g("https://wildfire.cr.usgs.gov/arcgis/rest/services/geomac_fires/MapServer/3",{id:"MODIS_Fire_Detection",visible:0!=(4&Pe.wildlife)}),Zt=new b("https://idfg.idaho.gov/ifwis/maps/realtime/fire/csv/inciweb.csv",{id:"Active_Fire_Report",visible:!1,infoTemplate:Me}),Qt=new c(new d("src/images/marker_other.png",21,25),"type");Qt.addValue("Wildfire",new d("src/images/marker_fire.png",21,25)),Qt.addValue("Burned Area Emergency Response",new d("src/images/marker_baer.png",21,25)),Qt.addValue("Prescribed Fire",new d("src/images/marker_rx.png",21,25)),Zt.setRenderer(Qt),map.addLayers([Pt,Et,lt,Oe,Vt,Jt,Kt,Yt,qt,Zt,$t,mt,Dt,Tt,at,Ht,Rt,Nt,st,Ge,Je,Ze,Qe,Xe,et,Be,We,ze,je,qe,Ve,Ye,Ke,it,Ue,tt,Mt,Bt,Gt,Wt,zt,jt]),new F({map:map,removeUnderscores:!0,showLegend:!0,showOpacitySlider:!0,showSubLayers:!1,layers:[{layer:et,title:"Areas with Hunting Restrictions - Furbearer"},{layer:Xe,title:"Areas with Hunting Restrictions - Waterfowl"},{layer:Qe,title:"Areas with Hunting Restrictions - Upland Game"},{layer:Ze,title:"Areas with Hunting Restrictions - Upland Game Bird & Turkey"},{layer:Je,title:"Areas with Hunting Restrictions - Big Game"},{layer:Ke,title:"Controlled Hunt Areas - Turkey"},{layer:Ye,title:"Controlled Hunt Areas - Moose"},{layer:Ve,title:"Controlled Hunt Areas - Mountain Goat"},{layer:qe,title:"Controlled Hunt Areas - Elk"},{layer:je,title:"Controlled Hunt Areas - Deer"},{layer:ze,title:"Controlled Hunt Areas - Bighorn Sheep"},{layer:We,title:"Controlled Hunt Areas - Black Bear"},{layer:Be,title:"Controlled Hunt Areas - Antelope"},{layer:Ue,title:"Elk Management Zones"},{layer:Oe,title:"GMUs with Motorized Hunting Rules"},{layer:Ge,title:"Game Management Units"}]},"tocDiv1").startup(),new F({map:map,removeUnderscores:!0,showLegend:!0,showSubLayers:!0,showOpacitySlider:!0,layers:[{layer:lt,title:"Wilderness Areas"},{layer:mt,title:"USFS Ranger Districts"},{layer:$t,title:"USFS Administrative Boundaries"},{layer:Dt,title:"BLM Field Office Boundaries"},{layer:Tt,title:"USGS Quad Map Boundaries"},{layer:at,title:"Counties"},{layer:st,title:"Fish and Game Regions"}]},"tocDiv2").startup();var Xt=new F({map:map,removeUnderscores:!0,showLegend:!0,showOpacitySlider:!0,showSubLayers:!1,layers:[{layer:Et,title:"State & Federal Land Management"},{layer:Mt,title:"Access Yes! Properties"},{layer:Nt,title:"Endowment Lands Access"},{layer:Rt,title:"Large Tracts Access"},{layer:Ht,title:"Wildlife Management Areas"},{layer:Gt,title:"USFS Motor Vehicle Use (zoom in to activate)"},{layer:Bt,title:"Roads & Trails (zoom in to activate)"},{layer:Wt,title:"Emergency Road & Trail Closures (zoom in to activate)"},{layer:zt,title:"Campgrounds"},{layer:jt,title:"FAA Airports/Airstrips"}]},"tocDiv3");function ei(){$("label[for=tocDiv3_checkbox_6]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_6]").text("Roads & Trails (zoom in to activate)"),$("#tocDiv3_checkbox_6").attr("disabled",!0)}function ti(){$("label[for=tocDiv3_checkbox_7]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_7]").text("Emergency Road & Trail Closures (zoom in to activate)"),$("#tocDiv3_checkbox_7").attr("disabled",!0)}function ii(){$("label[for=tocDiv3_checkbox_5]").css("color","#ccc"),$("label[for=tocDiv3_checkbox_5]").text("USFS Motor Vehicle Use (zoom in to activate)"),$("#tocDiv3_checkbox_5").attr("disabled",!0)}function si(e){for(var t=window.location.search.substring(1).split("&"),i=0;i<t.length;i++){var s=t[i].split("=");if(s[0]==e)return s[1]}}Xt.startup(),Xt.on("load",function(){$("label[for=tocDiv3_checkbox_0]").after("<div class='disclaimer'>IMPORTANT: Please be sure to obtain landowner permission before entering or crossing private lands. State & federal land management data maintained by BLM (2013). <a href='https://catalog.data.gov/dataset/blm-national-surface-management-agency-area-polygons-national-geospatial-data-asset-ngda' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_2]").after("<div class='disclaimer'>IMPORTANT: Know before you go! Please respect access rules. Access agreements are generally for wildlife recreation activities: hunting, fishing, trapping, and wildlife watching. Other uses may be restricted. <b>Access can change quickly. Observe posted signs</b>. <a href=' https://idfg.idaho.gov/access/endowment' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_3]").after("<div class='disclaimer'>IMPORTANT: Know before you go! Please respect access rules. Selecting an area on the map gives more information. Access agreements are generally for wildlife recreation activities: hunting, fishing, trapping, and wildlife watching. Other uses may be restricted. <b>Access can change quickly. Observe posted signs</b>. <a href=' https://idfg.idaho.gov/access/large-tracts' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_5]").after("<div class='disclaimer'>Motor vehicle Use data maintained by USFS. <a href='//www.fs.fed.us/visit/maps/mvum-faq' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_6]").after("<div class='disclaimer'>Public roads & trails data maintained by IDPR. <a href='//www.trails.idaho.gov/trails/' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_7]").after("<div class='disclaimer'>Public road & trail closure data maintained by IDPR. <a href='//www.trails.idaho.gov/trails/' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_8]").after("<div class='disclaimer'>Campground data maintained by IDPR. <a href='//parksandrecreation.idaho.gov/activities/camping' target='_blank'>Learn More</a></div>"),$("label[for=tocDiv3_checkbox_9]").after("<div class='disclaimer'>Airport data created by the FAA. <a href='https://www.arcgis.com/home/item.html?id=2814d2774a3d43cda1bcb6671ad6fac0' target='_blank'>Learn More</a></div>"),$("#TOCNode_significantClosures_1").before("<div class='disclaimer'>Please contact USFS national forests and BLM districts for all public road and trail closures.</div>"),ei(),ti(),ii()}),new F({map:map,removeUnderscores:!0,showLegend:!0,showSubLayers:!0,showOpacitySlider:!0,layers:[{layer:Kt,title:"Historic Fire Perimeters"},{layer:Yt,title:"Inactive Fire Perimeters"},{layer:Jt,title:"MODIS Fire Detections"},{layer:Vt,title:"Current Year Fire Perimeters"},{layer:qt,title:"Fire Emergency Closure Areas"},{layer:Zt,title:"Active Fire Report"}]},"tocDiv4").startup(),map.on("extent-change",function(){var e=map.getScale();e<4622324?($("label[for=tocDiv3_checkbox_6]").css("color","black"),$("label[for=tocDiv3_checkbox_6]").text("Roads & Trails"),$("#tocDiv3_checkbox_6").attr("disabled",!1),$("label[for=tocDiv3_checkbox_7]").css("color","black"),$("label[for=tocDiv3_checkbox_7]").text("Emergency Road & Trail Closures"),$("#tocDiv3_checkbox_7").attr("disabled",!1)):(ei(),ti()),e<288895?($("label[for=tocDiv3_checkbox_5]").css("color","black"),$("label[for=tocDiv3_checkbox_5]").text("USFS Motor Vehicle Use"),$("#tocDiv3_checkbox_5").attr("disabled",!1)):ii()}),$("#EmergencyWildfireClosuresLyrCheckbox").prop("checked",!1),$("#fireLayer1Checkbox").prop("checked",!1),$("#InactiveFirePermimetersLyrsCheckbox").prop("checked",!1),$("#HistoricFirePerimeterLyrCheckbox").prop("checked",!1),$("#ModisFireLyrCheckbox").prop("checked",!1),$("#InciWebActiveFireLyrCheckbox").prop("checked",!1),$("#significantClosure0Checkbox").prop("checked",!1),$("#significantClosure1Checkbox").prop("checked",!1),setTimeout(function(){Array.from(document.getElementsByClassName("esriLayer")).forEach(function(e){var t=e.childNodes[0].firstChild.children[0],i=t.nextElementSibling;t.addEventListener("click",function(){t.checked&&(e.className+=" esriListExpand",i.className="esriToggleButton esri-icon-down")})})},2e3),$("#EmergencyWildfireClosuresLyrCheckbox").change(function(){$(this).prop("checked")?qt.show():qt.hide()}),$("#fireLayer1Checkbox").change(function(){$(this).prop("checked")?Zt.show():Zt.hide()}),$("#InactiveFirePermimetersLyrsCheckbox").change(function(){$(this).prop("checked")?Yt.show():Yt.hide()}),$("#HistoricFirePerimeterLyrCheckbox").change(function(){$(this).prop("checked")?Kt.show():Kt.hide()}),$("#ModisFireLyrCheckbox").change(function(){$(this).prop("checked")?Jt.show():Jt.hide()}),$("#InciWebActiveFireLyrCheckbox").change(function(){$(this).prop("checked")?Zt.show():Zt.hide()}),$("#significantClosure1Checkbox").change(function(){$(this).prop("checked")?pioneerSalvageClosure.show():pioneerSalvageClosure.hide()}),/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)&&$(".selectpicker").selectpicker("mobile");var ai=void 0,ni=void 0,oi=void 0,ri=void 0,li=void 0,ci=void 0;window.onload=function(){if(ai=si("val"),ni=si("lyr"),oi=si("lbl"),ri=si("zoom"),li=si("X"),ci=si("Y"),void 0!==oi){var e=decodeURIComponent(oi);oi=e.split("+").join(" ")}else oi="";var t,i,s,a;if(void 0!==ai&&(t=ai,s=new R(xi[i=ni]),(a=new N).returnGeometry=!0,a.outFields=["*"],vi=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([154,32,219]),3),new I([154,32,219,.1])),a.where=["ID","ID","ID","ID","AreaID","ID","huntID","TaxonID"][i]+" IN ("+t+")",s.execute(a,Di)),$("#queryLabel1").text(oi),$("#queryLabel1Div").show(),void 0!==ri){var n=new m(li,ci,new esri.SpatialReference({wkid:4326}));map.setLevel(ri),map.centerAt(n)}},$("#queryCheckbox").change(function(){$(this).prop("checked")?(ne.show(),oe.show()):(ne.hide(),oe.hide())});var di=void 0,pi=void 0,hi=void 0,ui=void 0,mi=void 0,vi=void 0,fi=void 0,gi=void 0,bi=void 0,wi=void 0,$i=void 0,Ci=void 0;$("#btnQuery").click(function(){if($("#loading").show(),ne.clear(),oe.clear(),$("#queryLabel1Div").hide(),$("#queryLabel2Div").hide(),$("#queryLabel3Div").hide(),$("#queryLabel4Div").hide(),$("#queryLabel5Div").hide(),$("#kmlNav1").hide(),$("#kmlNav2").hide(),$("#gmu").val()){var e="";$("#gmu option:selected").each(function(){e+=$(this).val()+","}),di=e.substring(0,e.length-1),x=void 0===(x=$("#gmu option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected GMU",void 0!==di&&(i=di,s=new R(xi[3]),(a=new N).returnGeometry=!0,a.outFields=["ID","NAME"],fi=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([154,32,219]),3),new I([154,32,219,.1])),a.where="ID IN ("+i+")",s.execute(a,ki)),$("#queryLabel1").text(x),$("#queryLabel1Div").show();var t="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/3/query?where=ID in ("+di+")&outfields=NAME&f=kmz";$("#gmuKML").attr("href",t),$("#gmuKML").show()}var i,s,a,n,o,r,l,c,d,p,h,u,m,v,f;if($("#elkzone").val()){var g="";$("#elkzone option:selected").each(function(){g+=$(this).val()+","}),pi=g.substring(0,g.length-1),x=void 0!==(x="Elk Zones: "+$("#elkzone option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Elk Zone",void 0!==pi&&(n=pi,o=new R(xi[4]),(r=new N).returnGeometry=!0,r.outFields=["ID","NAME"],gi=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([0,255,255]),3),new I([0,255,255,.1])),r.where="ID IN ("+n+")",o.execute(r,Ai)),$("#queryLabel2").text(x),$("#queryLabel2Div").show();var b="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/1/query?where=ID in ("+pi+")&outfields=NAME&returnGeometry=true&outSR=4326&f=kmz";$("#elkzoneKML").attr("href",b),$("#elkzoneKML").show()}if($("#chunt").val()){var w="";$("#chunt option:selected").each(function(){w+=$(this).val()+","}),hi=w.substring(0,w.length-1),x=void 0!==(x=$("#chunt option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Hunt Area",void 0!==hi&&(l=hi,c=new R(xi[5]),(d=new N).returnGeometry=!0,d.outFields=["FLAG","AreaID","BigGame","HuntArea"],bi=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([18,237,18]),3),new I([18,237,18,.1])),wi=new k(k.STYLE_BACKWARD_DIAGONAL,new A(A.STYLE_SOLID,new I([18,237,18]),3),new I([18,237,18,.3])),d.where="AreaID IN ("+l+")",c.execute(d,Ii)),$("#queryLabel3").text(x),$("#queryLabel3Div").show(),$("#kmlNav2").show(),$("#kmlNav1").effect("highlight",{color:"yellow"},3e3),$("#kmlNav2").effect("highlight",{color:"yellow"},3e3);var C="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0/query?where=AreaID in ("+hi+")&outfields=NAME&f=kmz";$("#chuntKML").attr("href",C),$("#chuntKML").show()}if($("#waterfowl").val()){var y="";$("#waterfowl option:selected").each(function(){y+=$(this).val()+","}),ui=y.substring(0,y.length-1),x=void 0!==(x=$("#waterfowl option:selected").map(function(){return $(this).text()}).get().join(", "))?x:"Selected Hunt Areas",void 0!==ui&&(p=ui,h=new R(xi[6]),(u=new N).returnGeometry=!0,u.outFields=["huntID","Area_Name"],$i=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([255,157,0]),3),new I([255,157,0,.1])),u.where="huntID IN ("+p+")",h.execute(u,Li)),$("#queryLabel4").text(x),$("#queryLabel4Div").show();var S="https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0/query?where=ID in ("+ui+")&outfields=NAME&f=kmz";$("#waterfowlKML").attr("href",S),$("#waterfowlKML").show()}if($("#gameDistribution").val()){var x,_="";$("#gameDistribution option:selected").each(function(){_+=$(this).val()+","}),mi=_.substring(0,_.length-1),x=void 0!==(x=$("#gameDistribution option:selected").map(function(){return $(this).text()}).get().join(", ")+" General Distribution")?x:"Selected Game Distribution",void 0!==mi&&(m=mi,v=new R(xi[7]),(f=new N).returnGeometry=!0,f.outFields=["TaxonID","StateSciName","StateCommonName"],Ci=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([255,0,225]),3),new I([255,0,225,.1])),f.where="TaxonID IN ("+m+")",v.execute(f,Fi)),$("#queryLabel5").text(x),$("#queryLabel5Div").show();var D="https://gis.idfg.idaho.gov/server/rest/services/Species/Distribution/MapServer/3/query?where=TaxonID in ("+mi+")&outfields=StateCommonName&returnGeometry=true&outSR=4326&f=kmz";$("#gameDistributionKML").attr("href",D),$("#gameDistributionKML").show()}null==$("#gmu").val()&&null==$("#elkzone").val()&&null==$("#chunt").val()&&null==$("#waterfowl").val()&&null==$("#gameDistribution").val()||($("#kmlNav1").show(),$("#kmlNav2").show()),$("#btnClearHighlighted").show()}),$("#btnClearHighlighted").click(function(){$("#btnClearHighlighted").hide(),ne.clear(),oe.clear(),$("#queryLabelDiv").hide(),$(".selectpicker").selectpicker("val",""),$("#queryLabel1Div").hide(),$("#queryLabel2Div").hide(),$("#queryLabel3Div").hide(),$("#queryLabel4Div").hide(),$("#queryLabel5Div").hide(),$("#kmlNav1").hide(),$("#kmlCollapse").hide(),$("#gmuKML").hide(),$("#elkzoneKML").hide(),$("#chuntKML").hide(),$("#waterfowlKML").hide(),$("#gameDistributionKML").hide()});var yi,Si=new k(k.STYLE_BACKWARD_DIAGONAL,new A(A.STYLE_SOLID,new I([154,32,219]),3),new I([154,32,219])),xi=["https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/0","https://gis.idfg.idaho.gov/server/rest/services/Outfitters/MapServer/0","https://gis.idfg.idaho.gov/server/rest/services/Access/MapServer/1","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/3","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/1","https://gis.idfg.idaho.gov/server/rest/services/Hunting/MapServer/4","https://services.arcgis.com/FjJI5xHF2dUPVrgK/ArcGIS/rest/services/WaterfowlHuntAreas/FeatureServer/0","https://gis.idfg.idaho.gov/server/rest/services/Species/Distribution/MapServer/3"];function _i(){$("#huntWarningModal").modal("show")}function Di(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var a=t[i],n=a.geometry.getExtent().getCenter();a.setSymbol(vi);var o=oi;ne.add(a),1==a.attributes.FLAG?(a.setSymbol(Si),_i()):a.setSymbol(vi);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(o);l.setColor(new esri.Color([0,0,0])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(n,map.spatialReference),d=new W(c,l);oe.add(d);var p=esri.graphicsExtent(t);map.setExtent(p.expand(1.25),!0),""==ri&&(p=esri.graphicsExtent(t),map.setExtent(p.expand(1.25),!0))}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function ki(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var a=t[i],n=a.geometry.getExtent().getCenter();a.setSymbol(fi);var o="UNIT "+a.attributes.NAME;ne.add(a);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(o);l.setColor(new esri.Color([154,32,219])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(n,map.spatialReference),d=new W(c,l);oe.add(d),Ti()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Ai(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var a=t[i],n=a.geometry.getExtent().getCenter();a.setSymbol(gi);var o=a.attributes.NAME+" Elk Zone";ne.add(a);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(o);l.setColor(new esri.Color([30,201,201])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(n,map.spatialReference),d=new W(c,l);oe.add(d),Ti()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Ii(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var a=t[i],n=a.geometry.getExtent().getCenter();1==a.attributes.FLAG?(a.setSymbol(wi),_i()):a.setSymbol(bi);var o=a.attributes.BigGame+" - "+a.attributes.HuntArea;ne.add(a);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(o);l.setColor(new esri.Color([0,0,0])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(n,map.spatialReference);new W(c,l),Ti()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Li(e){for(var t=e.features,i=0,s=t.length;i<s;i++){e.geometry;var a=t[i],n=a.geometry.getExtent().getCenter();a.setSymbol($i);var o=a.attributes.Area_Name;ne.add(a);var r=new esri.symbol.Font;r.setSize("10pt"),r.setFamily("Helvetica"),r.setWeight(u.WEIGHT_BOLD);var l=new h(o);l.setColor(new esri.Color([232,146,18])),l.setFont(r),l.setHorizontalAlignment("center"),l.setVerticalAlignment("middle"),l.setOffset(17,0);var c=new m(n,map.spatialReference),d=new W(c,l);oe.add(d),Ti()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Fi(e){for(var t=e.features,i=0,s=t.length;i<s;i++){var a=t[i];a.setSymbol(Ci),ne.add(a),Ti()}$("#queryLabelDiv").show(),$("#queryCheckbox").prop("checked",!0)}function Ti(){var e=new esri.geometry.Extent(-119.925,40.439,-109.137,50.199);map.setExtent(e),$("#loading").hide()}var Ei=[];function Mi(e){$("#upload-status").html("<p style='color:red'>"+e.message+"</p>")}function Hi(e){dojo.byId(e).innerHTML=dojo.byId(e).innerHTML}function Ri(e){e.visible?e.hide():e.show()}Z(V.byId("uploadForm"),"change",function(e){var a=e.target.value.toLowerCase();if(ee("ie")){var t=a.split("\\");a=t[t.length-1]}-1!==a.indexOf(".gpx")?(function(e){yi=(yi=a.split("."))[0].replace("c:\\fakepath\\",""),$("#upload-status").html("<b>Loading </b>"+yi);var t={name:yi,targetSR:map.spatialReference,maxRecordCount:1e3,enforceInputFileSizeLimit:!0,enforceOutputJsonSizeLimit:!0},i=r.getExtentForScale(map,4e4).getWidth()/map.width;t.generalize=!0,t.maxAllowableOffset=i,t.reducePrecision=!0,t.numberOfDigitsAfterDecimal=0;var s={filetype:"gpx",publishParameters:J.stringify(t),f:"json","callback.html":"textarea"};o({url:"https://www.arcgis.com/sharing/rest/content/features/generate",content:s,form:V.byId("uploadForm"),handleAs:"json",load:se.hitch(this,function(e){if(e.error)Mi(e.error);else{var t,i,s=e.featureCollection.layers[0].layerDefinition.name;$("#upload-status").html("<b>Loaded: </b>"+s),t=e.featureCollection,Ei=[],ie.forEach(t.layers,function(e){var t=new H("","${*}");t.setTitle(yi+" Attributes"),function(e){var t=null;switch(e.geometryType){case"esriGeometryPoint":t=new p(p.STYLE_CIRCLE,10,new A(A.STYLE_SOLID,new I([0,0,0]),1),new I([255,0,0]));break;case"esriGeometryPolygon":t=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([255,0,0]),1),new I([255,0,0]))}t&&e.setRenderer(new l(t)),"esriGeometryPoint"==e.geometryType&&$("#uploadLabel1Div").show(),"esriGeometryPolyline"==e.geometryType&&$("#uploadLabel2Div").show()}(e=new g(e,{outfields:["*"],infoTemplate:t})),i=i?i.union(e.fullExtent):e.fullExtent,Ei.push(e)}),map.addLayers(Ei),map.setExtent(i.expand(1.25),!0),$("#upload-status").html(""),Hi("uploadForm"),$("#uploadLabelDiv").show(),$("#uploadCheckbox").prop("checked",!0)}}),error:se.hitch(this,Mi)})}(),$("#btnClearUpload").show()):$("#upload-status").html('<p style="color:red">INVALID FILE TYPE. Choose a .gpx file</p>')}),$("#btnClearUpload").click(function(){$("#btnClearUpload").hide(),jQuery.each(Ei,function(e,t){Ri(Ei[e])}),$("#uploadLabelDiv").hide(),$("#uploadLabel1Div").hide(),$("#uploadLabel2Div").hide(),$("#uploadCheckbox").prop("checked",!1)}),$("#uploadCheckbox").change(function(){jQuery.each(Ei,function(e,t){Ri(Ei[e])})});var Ni=new P({map:map,enableInfoWindow:!1},"geosearch");$(".searchInput").on("input",function(){0<$(".searchInput").val().length?$("#btnGeosearch").prop("disabled",!1):$("#btnGeosearch").prop("disabled",!0)});var Pi=new G({spatialReference:{wkid:102100},xmin:-13039873.23,xmax:-12316737.55,ymin:5149759.51,ymax:6295543.43});Ni.sources[0].searchExtent=Pi,Ni.startup(),$("#btnClearPlace").click(function(){Ni.clear(),$("#btnClearPlace").hide()}),Ni.on("search-results",function(){$("#btnClearPlace").show()}),$("#btnCoordZoom").click(function(){!function(){var e,t=$("#longitudeInput").val(),i=$("#latitudeInput").val(),s=new d("http://js.arcgis.com/3.19/esri/dijit/Search/images/search-pointer.png",35,35),a=new m(t,i),n=new h(t+", "+i);n.setColor(new I("black"));var o=new u;o.setSize("14pt"),o.setFamily("Helvetica"),o.setWeight(u.WEIGHT_BOLD),n.setFont(o),n.setHorizontalAlignment("left"),n.setVerticalAlignment("middle"),n.setOffset(17,0),e=new W(a,s),zoomToLabel=new W(a,n),le.add(e),ce.add(zoomToLabel),map.centerAndZoom(a,12)}()}),$("#btnClear").click(function(){le.clear(),ce.clear(),longitude=$("#longitudeInput").val(""),latitude=$("#latitudeInput").val("")});var Gi=new p(p.STYLE_CIRCLE,10,new A(A.STYLE_SOLID,new I([165,24,221,.55],1)));Gi.setColor(new I([165,24,221,.55])),Gi.setSize("8");var Oi,Ui,Bi=new A(A.STYLE_SOLID,new I([165,24,221,.55]),3),Wi=new U({map:map,lineSymbol:Bi,pointSymbol:Gi},V.byId("measurementDiv"));function zi(){var e;$("#userTextBox").prop("disabled",!0),$("#DrawInstructions").show(),e=this.name.toUpperCase().replace(/ /g,"_"),Oi.activate(B[e]),"FREEHAND_POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Press down to start and let go to finish</h3>"):"POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to polygon. Double-click/tap to finish.</h3>"):"POINT"===e?$("#DrawInstructions").html("<h3 class='red'>Click or tap a location on the map to add a point.</h3>"):"MULTI_POINT"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap a location on the map to start adding points. Double-click/tap to finish.</h3>"):"POLYLINE"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to the line. Double-click/tap to finish.</h3>"):"FREEHAND_POLYLINE"===e||"FREEHAND POLYGON"===e?$("#DrawInstructions").html("<h3 class='red'>Press down to start and let go to finish.</h3>"):"CIRCLE"===e?$("#DrawInstructions").html("<h3 class='red'>Click/tap to add a circle or press down to start and let go to finish.</h3>"):"TEXT"===e&&$("#DrawInstructions").html("<h3 class='red'>Click/tap map to add text.</h3>")}Wi.startup(),$("#clearMeasureResults").click(function(){Wi.clearResult(),$("#measureResultsDiv").hide(),$("#clearMeasureResults").hide()}),Wi.on("measure-start",function(){$("#Results").empty()}),Wi.on("tool-change",function(){var e=Wi.getTool();"area"===(e=e.toolName)?$("#MeasureInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to polygon. Double-click/tap to finish.</h3>"):"distance"===e?$("#MeasureInstructions").html("<h3 class='red'>Click/tap to start drawing. Then continue to click/tap to add vertices to the line. Double-click/tap to finish.</h3>"):"location"===e&&$("#MeasureInstructions").html("<h3 class='red'>Click or tap a location on the map to add a point.</h3>")}),$("#measureCollapse").on("show.bs.collapse",function(){map.setInfoWindowOnClick(!1)}),Wi.on("measure-end",function(){$("#clearMeasureResults").show();var e=Wi.getTool();e=e.toolName;var t=Wi.resultValue.domNode.innerHTML,i=Wi.markerLatitude;i=i.innerHTML;var s=Wi.markerLongitude,a=i+", "+(s=s.innerHTML);document.getElementById("Results").innerHTML="location"===e?a:t,$("#measureResultsDiv").effect("highlight",{color:"yellow"},3e3)}),$("#measureCollapse").on("hide.bs.collapse",function(){map.setInfoWindowOnClick(!0),Wi.clearResult(),Wi.setTool("area",!1),Wi.setTool("distance",!1),Wi.setTool("location",!1),console.log("Popups should be enabled"),$("#measureResultsDiv").hide(),$("#MeasureInstructions").html("")}),map.on("load",function(e){(Oi=new B(map)).on("draw-end",function(e){!function(e){var t;switch(Oi.deactivate(),e.geometry.type){case"multipoint":t=new p(p.STYLE_CIRCLE,15,new A(A.STYLE_SOLID,new I([255,114,0]),.5),new I([255,114,0]));break;case"polyline":t=new A(A.STYLE_SOLID,new I([255,114,0]),2);break;default:t=new k(k.STYLE_SOLID,new A(A.STYLE_SOLID,new I([255,114,0]),2),new I([255,114,0,.25]))}var i=new W(e.geometry,t);de.add(i)}(e),$("#userTextBox").prop("disabled",!1),$("#DrawInstructions").hide(),$("#btnClearGraphic").show()})}),ae.forEach(function(e){"dijit.form.Button"===e.declaredClass&&e.on("click",zi)}),$("#userTextBox").on("input",function(){0<$("#userTextBox").val().length?$(".txt-btn").show():$(".txt-btn").hide()}),$("#dijit_form_Button_6_label").on("click",function(e){esri.bundle.toolbars.draw.addPoint="Click to add text to the map.",(Ui=new B(map)).activate(B.POINT),Ui.on("draw-end",function(e){!function(e){Ui.deactivate();var t=$("#userTextBox").val(),i=new h(t);i.setColor(new esri.Color("black"));var s=new esri.symbol.Font;s.setSize("14pt"),s.setFamily("Helvetica"),s.setWeight(u.WEIGHT_BOLD),i.setFont(s);var a=new W(e.geometry,i);pe.add(a)}(e),$("#userTextBox").prop("disabled",!1),$("#DrawInstructions").hide(),$("#btnClearText").show()})}),$("#btnClearGraphic").click(function(){de.clear(),$("#btnClearGraphic").hide()}),$("#btnClearText").click(function(){pe.clear(),$("#btnClearText").hide()}),$("#drawCollapse").on("show.bs.collapse",function(){map.setInfoWindowOnClick(!1)}),$("#drawCollapse").on("hide.bs.collapse",function(){map.setInfoWindowOnClick(!0),$("#DrawInstructions").html("")}),$("#btnPDF").click(function(){$("#div_for_pdf").hide(),$("#printStatus").text("Creating Map..."),function(){var e=new z;e.map=map,$("#printStatus").show(),$("#loadingPrint").show();var t=new j,i=$("#txtTitle").val();t.layoutOptions={titleText:i};var s=$("#format").val();t.format=s;var a=$("#layout").val();t.layout=a,t.exportOptions={dpi:96,width:420,height:650},e.template=t;var n=new esri.tasks.PrintTask("https://gis.idfg.idaho.gov/server/rest/services/Geoprocessing/ExportWebMap2/GPServer/Export%20Web%20Map").execute(e);n.addCallback(function(e){var t=e.url;"undefined"==typeof PDFwindow?($("#div_for_pdf").html("<a href='"+t+"'>GET MAP</a>"),$("#div_for_pdf a").attr("target","_blank"),$("#div_for_pdf").click(function(){$("#div_for_pdf").hide()})):window.open(new_url_for_map,"_blank"),$("#div_for_pdf").show(),$("#btnPDF").show(),$("#loadingPrint").hide(),$("#printStatus").hide()}),n.addErrback(function(e){console.log("Print Task Error = "+e),$("#printStatus").text("Whoops!  Something went wrong!  Please try again later."),$("#printStatus").show(),$("#printStatus").attr("class","red"),$("#loadingPrint").hide(),$("#btnPDF").show(),setTimeout(function(){$("#printStatus").hide()},5e3)}),$("#pdfCollapse").on("hide.bs.collapse",function(){$("#printStatus").hide()})}(),$("#btnPDF").hide()}),$(document).ready(function(){$("#legendNav1").click(function(e){$("#legendCollapse").collapse("toggle")}),$("#legendCollapse").on("show.bs.collapse",function(){$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#basemapNav1").click(function(e){$("#basemapCollapse").collapse("toggle")}),$("#basemapCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#huntNav1").click(function(e){$("#huntCollapse").collapse("toggle")}),$("#huntCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#kmlNav1").click(function(e){$("#kmlCollapse").collapse("toggle")}),$("#kmlCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#uploadNav1").click(function(e){$("#uploadCollapse").collapse("toggle")}),$("#uploadCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#geosearchNav1").click(function(e){$("#geosearchCollapse").collapse("toggle")}),$("#geosearchCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#measurementNav1").click(function(e){$("#measureCollapse").collapse("toggle")}),$("#measureCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#drawNav1").click(function(e){$("#drawCollapse").collapse("toggle")}),$("#drawCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in"),$("#pdfCollapse").removeClass("in")}),$("#pdfNav1").click(function(e){$("#pdfCollapse").collapse("toggle")}),$("#pdfCollapse").on("show.bs.collapse",function(){$("#legendCollapse").removeClass("in"),$("#basemapCollapse").removeClass("in"),$("#huntCollapse").removeClass("in"),$("#uploadCollapse").removeClass("in"),$("#geosearchCollapse").removeClass("in"),$("#measureCollapse").removeClass("in"),$("#drawCollapse").removeClass("in"),$("#kmlCollapse").removeClass("in")}),$("#helpNav1").click(function(e){$("#helpModal").modal("show")}),$("#disclaimer").click(function(e){$("#disclaimerModal").modal("show")}),$(window).width()<500?(qi($("#sidebar")),$(".controlBtns").css({width:"100%",position:"fixed"}),$("#ReturnBtn").show()):(Vi($("#sidebar")),$(".controlBtns").css({width:"35%",position:"relative"}),$("#ReturnBtn").hide())});var ji=$("#sidebar");function qi(e){$(e).addClass("collapse"),$("#mapView").addClass("fullScreen"),$("#mapView").removeClass("splitScreen"),$("#expandSidebar").removeClass("glyphicon-menu-left"),$("#expandSidebar").addClass("glyphicon-list"),$("#mapView").css({display:"block"})}function Vi(e){$(e).removeClass("collapse"),$("#mapView").removeClass("fullScreen"),$("#mapView").addClass("splitScreen"),$("#expandSidebar").removeClass("glyphicon-list"),$("#expandSidebar").addClass("glyphicon-menu-left"),$(window).width()<500?$("#mapView").css({display:"none"}):$("#mapView").css({display:"block"})}$("#ReturnBtn").on("click",function(){qi(ji)}),$("#expandSidebar").on("click",function(){$("#sidebar").hasClass("collapse")?Vi($(ji)):qi($(ji))}),$(window).on("resize",function(){$(this).width()<500?($(".controlBtns").css({width:"100%",position:"fixed"}),$("#ReturnBtn").show(),$("#sidebar").hasClass("collapse")||$("#mapView").css({display:"none"})):($("#ReturnBtn").hide(),$(".controlBtns").css({width:"35%",position:"relative"}),$("#mapView").css({display:"block"}))}),window.onkeydown=function(e){if(112===e.keyCode){var t=window.open("https://idfg.idaho.gov/ifwis/huntplanner/mapcenter/HelpDocV2/IDFG%20Hunt%20Planner%20Map%20Center%20Help%20Documentation.html","_blank");t?t.focus():alert("Please allow popups for this website")}}});